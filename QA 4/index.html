<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>QA Report â€“ Mohammad Alzoubi</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #f3f4f6;
      --white: #ffffff;
      --primary: #2563eb;
      --primary-soft: #eff6ff;
      --accent: #0ea5e9;
      --dark: #0f172a;
      --muted: #6b7280;
      --border: #e5e7eb;
      --danger: #ef4444;
      --success: #16a34a;
      --warning: #f59e0b;
      --shadow-soft: 0 10px 30px rgba(15, 23, 42, 0.08);
      --shadow-strong: 0 18px 45px rgba(15, 23, 42, 0.16);
      --radius-lg: 18px;
      --radius-xl: 24px;
      --radius-pill: 999px;
      --chip-bg: rgba(37, 99, 235, 0.08);
      --chip-border: rgba(37, 99, 235, 0.22);
      --scrollbar-bg: rgba(148, 163, 184, 0.35);
      --scrollbar-thumb: rgba(37, 99, 235, 0.8);
    }

    body.theme-dark {
      --bg: #020617;
      --white: #020617;
      --primary: #60a5fa;
      --primary-soft: rgba(37, 99, 235, 0.12);
      --accent: #38bdf8;
      --dark: #e5e7eb;
      --muted: #9ca3af;
      --border: #1f2933;
      --danger: #f97373;
      --success: #22c55e;
      --warning: #fbbf24;
      --shadow-soft: 0 10px 30px rgba(15, 23, 42, 0.85);
      --shadow-strong: 0 18px 45px rgba(15, 23, 42, 0.96);
      --chip-bg: rgba(37, 99, 235, 0.18);
      --chip-border: rgba(129, 140, 248, 0.5);
      --scrollbar-bg: rgba(30, 64, 175, 0.6);
      --scrollbar-thumb: rgba(56, 189, 248, 0.9);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: radial-gradient(
          circle at top right,
          rgba(56, 189, 248, 0.12),
          transparent 50%
        ),
        radial-gradient(
          circle at bottom left,
          rgba(37, 99, 235, 0.18),
          transparent 55%
        ),
        var(--bg);
      color: var(--dark);
    }

    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 10px;
      height: 10px;
    }
    ::-webkit-scrollbar-track {
      background: transparent;
    }
    ::-webkit-scrollbar-thumb {
      background: var(--scrollbar-thumb);
      border-radius: 999px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: rgba(37, 99, 235, 1);
    }

    .app-shell {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      padding: 1.5rem;
      gap: 1.25rem;
      max-width: 1300px;
      margin: 0 auto;
    }

    @media (max-width: 768px) {
      .app-shell {
        padding: 1rem;
      }
    }

    /* Top bar */
    .top-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 0.6rem;
    }

    .logo-badge {
      width: 42px;
      height: 42px;
      border-radius: 18px;
      background: linear-gradient(135deg, #1d4ed8, #38bdf8);
      box-shadow: 0 12px 30px rgba(37, 99, 235, 0.6);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #e5f2ff;
      font-size: 1.2rem;
    }

    .logo-text {
      display: flex;
      flex-direction: column;
      gap: 0.2rem;
    }

    .logo-text .title {
      font-weight: 800;
      letter-spacing: 0.03em;
      font-size: 1rem;
      text-transform: uppercase;
      color: var(--dark);
    }

    .logo-text .subtitle {
      font-size: 0.8rem;
      color: var(--muted);
    }

    body.theme-dark .logo-text .title {
      color: #e5e7eb;
    }

    .top-actions {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .chip-btn {
      background: rgba(15, 23, 42, 0.7);
      color: #e2e8f0;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      padding: 0.3rem 0.6rem;
      font-size: 0.75rem;
      cursor: pointer;
      text-align: right;
      display: flex;
      align-items: center;
      gap: 0.35rem;
      transition: 0.15s;
    }

    .chip-btn:hover {
      background: rgba(15, 23, 42, 0.9);
    }

    .chip-btn span.circle {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 0.7rem;
      background: linear-gradient(135deg, #38bdf8, #1d4ed8);
      color: #e5f2ff;
    }

    .theme-toggle {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      padding: 0.35rem 0.75rem;
      background: rgba(15, 23, 42, 0.8);
      color: #e5e7eb;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      cursor: pointer;
      font-size: 0.78rem;
      box-shadow: 0 12px 25px rgba(15, 23, 42, 0.7);
      transition: 0.15s ease;
    }

    .theme-toggle:hover {
      transform: translateY(-1px);
      box-shadow: 0 16px 32px rgba(15, 23, 42, 0.9);
    }

    /* Layout */
    .grid {
      display: grid;
      grid-template-columns: 260px 1fr;
      gap: 1.25rem;
      align-items: flex-start;
    }

    @media (max-width: 900px) {
      .grid {
        grid-template-columns: 1fr;
      }
    }

    /* Sidebar */
    .sidebar {
      background: radial-gradient(
          circle at top,
          rgba(37, 99, 235, 0.28),
          transparent 60%
        ),
        linear-gradient(145deg, #020617, #020617 55%, #020617);
      border-radius: 24px;
      padding: 1.1rem;
      color: #e5e7eb;
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.85);
      position: sticky;
      top: 1rem;
    }

    .sidebar .section-title {
      font-size: 0.85rem;
      font-weight: 600;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: #9ca3af;
      margin-bottom: 0.7rem;
    }

    .nav {
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
    }

    .nav-btn {
      border-radius: 999px;
      padding: 0.5rem 0.75rem;
      border: 1px solid transparent;
      background: transparent;
      color: #cbd5f5;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
      font-size: 0.82rem;
      transition: 0.15s;
      text-align: right;
    }

    .nav-btn span.icon {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: rgba(15, 23, 42, 0.7);
      font-size: 1rem;
    }

    .nav-btn span.label {
      flex: 1;
    }

    .nav-btn small {
      font-size: 0.7rem;
      opacity: 0.7;
    }

    .nav-btn:hover {
      background: rgba(15, 23, 42, 0.6);
    }

    .nav-btn.active {
      background: rgba(37, 99, 235, 0.16);
      border-color: rgba(129, 140, 248, 0.8);
      box-shadow: 0 0 0 1px rgba(129, 140, 248, 0.7);
      color: #e5e7eb;
    }

    .sidebar-footer {
      margin-top: 1.25rem;
      padding-top: 1rem;
      border-top: 1px dashed rgba(148, 163, 184, 0.5);
      font-size: 0.75rem;
      color: #9ca3af;
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
    }

    .sidebar-footer strong {
      color: #e5e7eb;
      font-weight: 600;
    }

    .sidebar-footer .tag {
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      padding: 0.18rem 0.55rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.55);
      font-size: 0.7rem;
      color: #e5e7eb;
      background: rgba(15, 23, 42, 0.6);
    }

    /* Main content */
    .main-content {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .section {
      background: var(--white);
      border-radius: 24px;
      padding: 1.3rem 1.4rem 1.4rem;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(148, 163, 184, 0.18);
      display: none;
    }

    .section-active {
      display: block;
    }

    body.theme-dark .section {
      border-color: rgba(148, 163, 184, 0.25);
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 1rem;
      margin-bottom: 0.85rem;
    }

    .section-header h1 {
      margin: 0;
      font-size: 1.15rem;
      display: flex;
      align-items: center;
      gap: 0.35rem;
      color: var(--dark);
    }

    .section-header h1 span.icon {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
      background: var(--primary-soft);
      color: var(--primary);
    }

    .section-header .subtitle {
      margin: 0;
      color: var(--muted);
      font-size: 0.8rem;
    }

    body.theme-dark .section-header .subtitle {
      color: #9ca3af;
    }

    .section-tools {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .metrics {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    .metric-pill {
      border-radius: 999px;
      padding: 0.35rem 0.7rem;
      border: 1px solid var(--border);
      font-size: 0.75rem;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      background: rgba(15, 23, 42, 0.02);
    }

    body.theme-dark .metric-pill {
      background: rgba(15, 23, 42, 0.7);
      border-color: rgba(148, 163, 184, 0.5);
      color: #e5e7eb;
    }

    .metric-pill span.dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.4);
    }

    .metric-pill span.value {
      font-weight: 600;
    }

    /* Buttons */
    .btn {
      border-radius: 999px;
      border: 1px solid transparent;
      padding: 0.45rem 0.9rem;
      font-size: 0.78rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      transition: 0.15s;
      white-space: nowrap;
    }

    .btn-primary {
      background: linear-gradient(135deg, #2563eb, #1d4ed8);
      color: #e5f2ff;
      box-shadow: 0 15px 35px rgba(37, 99, 235, 0.55);
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: var(--shadow-strong);
    }

    .btn-outline {
      background: transparent;
      border-color: var(--border);
      color: var(--dark);
    }

    body.theme-dark .btn-outline {
      color: #e5e7eb;
      border-color: rgba(148, 163, 184, 0.6);
      background: rgba(15, 23, 42, 0.7);
    }

    .btn-outline:hover {
      border-color: var(--primary);
    }

    /* Meta grid */
    .meta-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
      gap: 0.75rem;
      margin-top: 0.75rem;
    }

    .meta-field {
      display: flex;
      flex-direction: column;
      gap: 0.2rem;
      font-size: 0.8rem;
    }

    .meta-field label {
      font-weight: 600;
      color: var(--dark);
    }

    body.theme-dark .meta-field label {
      color: #e5e7eb;
    }

    .meta-field input,
    .meta-field textarea {
      border-radius: 12px;
      border: 1px solid var(--border);
      padding: 0.4rem 0.5rem;
      font-size: 0.8rem;
      font-family: inherit;
      outline: none;
      background: rgba(255, 255, 255, 0.9);
    }

    .meta-field select {
      border-radius: 12px;
      border: 1px solid var(--border);
      padding: 0.4rem 0.5rem;
      font-size: 0.8rem;
      font-family: inherit;
      outline: none;
      background: rgba(255, 255, 255, 0.9);
    }

    body.theme-dark .meta-field input,
    body.theme-dark .meta-field textarea,
    body.theme-dark .meta-field select {
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
      border-color: rgba(148, 163, 184, 0.7);
    }

    .meta-field textarea {
      min-height: 70px;
      resize: vertical;
    }

    /* Columns inside sections */
    .section-body {
      display: grid;
      grid-template-columns: 1.3fr 1fr;
      gap: 1.2rem;
      margin-top: 0.8rem;
    }

    @media (max-width: 900px) {
      .section-body {
        grid-template-columns: 1fr;
      }
    }

    .card {
      border-radius: 18px;
      padding: 0.75rem 0.9rem;
      border: 1px solid var(--border);
      background: rgba(255, 255, 255, 0.9);
    }

    body.theme-dark .card {
      background: rgba(15, 23, 42, 0.95);
      border-color: rgba(148, 163, 184, 0.6);
      color: #e5e7eb;
    }

    .card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.5rem;
      margin-bottom: 0.4rem;
    }

    .card-header h2 {
      margin: 0;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 0.35rem;
    }

    .card-header h2 span.icon {
      width: 22px;
      height: 22px;
      border-radius: 999px;
      background: var(--primary-soft);
      color: var(--primary);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
    }

    .card-header small {
      font-size: 0.7rem;
      color: var(--muted);
    }

    body.theme-dark .card-header small {
      color: #9ca3af;
    }

    .chip-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.35rem;
      margin-top: 0.35rem;
    }

    .chip {
      border-radius: 999px;
      padding: 0.16rem 0.55rem;
      border: 1px solid var(--chip-border);
      background: var(--chip-bg);
      color: #0f172a;
      font-size: 0.7rem;
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
    }

    body.theme-dark .chip {
      color: #e5e7eb;
    }

    .chip span.dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.5);
    }

    /* Checklist */
    .pill-tabs {
      display: inline-flex;
      flex-wrap: wrap;
      gap: 0.35rem;
      margin-bottom: 0.6rem;
    }

    .pill-tab {
      border-radius: 999px;
      padding: 0.18rem 0.65rem;
      background: rgba(15, 23, 42, 0.025);
      border: 1px solid var(--border);
      font-size: 0.75rem;
      color: var(--muted);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      transition: 0.15s;
    }

    .pill-tab span.count {
      background: rgba(15, 23, 42, 0.06);
      padding: 0.05rem 0.4rem;
      border-radius: 999px;
      font-size: 0.7rem;
    }

    .pill-tab.active {
      background: rgba(37, 99, 235, 0.12);
      border-color: rgba(37, 99, 235, 0.8);
      color: #1d4ed8;
    }

    body.theme-dark .pill-tab {
      background: rgba(15, 23, 42, 0.9);
      border-color: rgba(148, 163, 184, 0.7);
      color: #9ca3af;
    }

    body.theme-dark .pill-tab span.count {
      background: rgba(15, 23, 42, 0.8);
      color: #e5e7eb;
    }

    body.theme-dark .pill-tab.active {
      background: rgba(37, 99, 235, 0.35);
      border-color: rgba(96, 165, 250, 0.9);
      color: #e5e7eb;
    }

    .checklist {
      margin-top: 0.2rem;
      max-height: 300px;
      overflow: auto;
      padding-right: 0.25rem;
    }

    .check-item {
      display: flex;
      align-items: flex-start;
      gap: 0.4rem;
      padding: 0.45rem 0.4rem;
      border-radius: 12px;
      border: 1px solid transparent;
      position: relative;
      font-size: 0.8rem;
      cursor: pointer;
      transition: 0.15s;
    }

    .check-item:hover {
      background: rgba(15, 23, 42, 0.02);
    }

    body.theme-dark .check-item:hover {
      background: rgba(15, 23, 42, 0.8);
    }

    .check-item.done {
      background: rgba(22, 163, 74, 0.06);
      border-color: rgba(22, 163, 74, 0.4);
    }

    body.theme-dark .check-item.done {
      background: rgba(22, 163, 74, 0.2);
      border-color: rgba(74, 222, 128, 0.7);
    }

    .check-item input {
      margin-top: 0.1rem;
      cursor: pointer;
      accent-color: #16a34a;
    }

    .check-item-main {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 0.15rem;
    }

    .check-item-title {
      font-weight: 600;
      color: var(--dark);
    }

    body.theme-dark .check-item-title {
      color: #e5e7eb;
    }

    .check-item-desc {
      font-size: 0.75rem;
      color: var(--muted);
    }

    body.theme-dark .check-item-desc {
      color: #9ca3af;
    }

    .check-item-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.25rem;
      margin-top: 0.1rem;
    }

    .tag {
      font-size: 0.7rem;
      padding: 0.1rem 0.4rem;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.03);
      border: 1px solid var(--border);
    }

    body.theme-dark .tag {
      background: rgba(15, 23, 42, 0.9);
      border-color: rgba(148, 163, 184, 0.7);
      color: #e5e7eb;
    }

    .tag.critical {
      border-color: var(--danger);
      color: var(--danger);
      background: rgba(248, 113, 113, 0.06);
    }

    .tag.high {
      border-color: var(--warning);
      color: var(--warning);
      background: rgba(251, 191, 36, 0.06);
    }

    .tag.medium {
      border-color: #38bdf8;
      color: #0284c7;
      background: rgba(56, 189, 248, 0.06);
    }

    .tag.low {
      border-color: #a1a1aa;
      color: #6b7280;
      background: rgba(229, 231, 235, 0.4);
    }

    /* Guides */
    .guide-list {
      display: flex;
      flex-direction: column;
      gap: 0.6rem;
      font-size: 0.8rem;
    }

    .guide-item {
      display: flex;
      gap: 0.5rem;
      align-items: flex-start;
      padding: 0.55rem 0.6rem;
      border-radius: 14px;
      border: 1px dashed var(--border);
      background: rgba(15, 23, 42, 0.01);
    }

    body.theme-dark .guide-item {
      background: rgba(15, 23, 42, 0.9);
      border-color: rgba(148, 163, 184, 0.7);
    }

    .guide-item-icon {
      width: 26px;
      height: 26px;
      border-radius: 12px;
      background: var(--primary-soft);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      color: var(--primary);
    }

    .guide-item-body {
      flex: 1;
    }

    .guide-item-body h3 {
      margin: 0 0 0.2rem;
      font-size: 0.83rem;
      color: var(--dark);
    }

    body.theme-dark .guide-item-body h3 {
      color: #e5e7eb;
    }

    .guide-item-body ul {
      margin: 0.15rem 0 0;
      padding-left: 1rem;
    }

    .guide-item-body li {
      margin-bottom: 0.15rem;
      color: var(--muted);
    }

    body.theme-dark .guide-item-body li {
      color: #9ca3af;
    }

    /* Tables */
    .table-card {
      border-radius: 18px;
      border: 1px solid var(--border);
      overflow: hidden;
      margin-top: 0.6rem;
    }

    body.theme-dark .table-card {
      border-color: rgba(148, 163, 184, 0.7);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.78rem;
    }

    th,
    td {
      padding: 0.45rem 0.55rem;
      border-bottom: 1px solid var(--border);
      text-align: right;
    }

    thead th {
      background: rgba(15, 23, 42, 0.02);
      color: var(--dark);
      font-weight: 600;
      font-size: 0.78rem;
    }

    body.theme-dark thead th {
      background: rgba(15, 23, 42, 0.92);
      color: #e5e7eb;
      border-color: rgba(148, 163, 184, 0.7);
    }

    tbody tr:nth-child(even) td {
      background: rgba(15, 23, 42, 0.01);
    }

    body.theme-dark tbody tr:nth-child(even) td {
      background: rgba(15, 23, 42, 0.9);
    }

    tbody tr:last-child td {
      border-bottom: none;
    }

    /* Progress bar */
    .progress-bar {
      width: 150px;
      height: 7px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.08);
      overflow: hidden;
      position: relative;
    }

    body.theme-dark .progress-bar {
      background: rgba(15, 23, 42, 0.9);
    }

    .progress-bar-inner {
      height: 100%;
      border-radius: inherit;
      background: linear-gradient(90deg, #22c55e, #facc15, #ef4444);
      width: 0%;
      transition: width 0.25s ease-out;
    }

    .progress-label {
      font-size: 0.75rem;
      color: var(--muted);
    }

    body.theme-dark .progress-label {
      color: #9ca3af;
    }

    /* Report preview */
    .report-preview {
      font-size: 0.8rem;
      color: var(--muted);
      margin-top: 0.6rem;
      padding: 0.5rem 0.55rem;
      border-radius: 14px;
      background: rgba(15, 23, 42, 0.02);
      border: 1px dashed var(--border);
    }

    body.theme-dark .report-preview {
      background: rgba(15, 23, 42, 0.9);
      border-color: rgba(148, 163, 184, 0.7);
    }

    .report-preview strong {
      color: var(--dark);
    }

    body.theme-dark .report-preview strong {
      color: #e5e7eb;
    }

    /* Report document (print) */
    .report-doc {
      max-width: 900px;
      margin: 0 auto;
      padding: 1.5rem;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      color: #0f172a;
    }

    .report-header {
      display: flex;
      flex-direction: column;
      gap: 0.2rem;
      margin-bottom: 1rem;
      border-bottom: 1px solid #e5e7eb;
      padding-bottom: 0.65rem;
    }

    .report-header h1 {
      margin: 0;
      font-size: 1.3rem;
      color: #111827;
    }

    .report-header p {
      margin: 0;
      font-size: 0.8rem;
      color: #6b7280;
    }

    .report-section-title {
      font-weight: 700;
      font-size: 0.95rem;
      margin: 0 0 0.35rem;
      color: #111827;
    }

    .report-sub {
      margin: 0 0 0.4rem;
      font-size: 0.8rem;
      color: #4b5563;
    }

    .report-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 0.4rem;
      font-size: 0.8rem;
    }

    .report-table th,
    .report-table td {
      border: 1px solid #e5e7eb;
      padding: 0.35rem 0.4rem;
      text-align: right;
    }

    .report-table thead th {
      background: #f9fafb;
      font-weight: 600;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      border-radius: 999px;
      padding: 0.2rem 0.6rem;
      border: 1px solid rgba(37, 99, 235, 0.4);
      font-size: 0.75rem;
      color: #1d4ed8;
      background: #eff6ff;
    }

    .badge::before {
      content: "";
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.45);
    }

    .report-footer {
      margin-top: 1.5rem;
      padding-top: 0.7rem;
      border-top: 1px solid #e5e7eb;
      font-size: 0.75rem;
      color: #6b7280;
      display: flex;
      justify-content: space-between;
      gap: 0.75rem;
    }

    @media print {
      body {
        background: #ffffff;
      }
      .app-shell {
        padding: 0;
      }
      .sidebar,
      .theme-toggle,
      .btn,
      .chip-btn {
        display: none !important;
      }
      .grid {
        display: block;
      }
      .section {
        box-shadow: none;
        border-radius: 0;
      }
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <!-- SVG icon sprite (used by UI) -->
  <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
    <symbol id="icon-overview" viewBox="0 0 24 24">
      <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zM13 21h8V11h-8v10zm0-18v6h8V3h-8z" />
    </symbol>
    <symbol id="icon-checklist" viewBox="0 0 24 24">
      <path d="M9 11l-3 3 1.5 1.5L9 14l6 6L19.5 20 9 9.5 9 11zM3 5h18v2H3V5zM3 9h12v2H3V9z" />
    </symbol>
    <symbol id="icon-bug" viewBox="0 0 24 24">
      <path d="M13 7h-2v2H8.5l.5-1.5L9 7H7l-.5 1.5L6 9H4v2h2l.5-1.5L7 9h2v2h2v2H9v2h6v-2h-2v-2h2v-2h-2l.5-1.5L15 9h2l.5-1.5L18 7h-2l-.5 1.5L15 10h-1V7z" />
    </symbol>
    <symbol id="icon-report" viewBox="0 0 24 24">
      <path d="M14 2H6a2 2 0 0 0-2 2v16l4-2 4 2 6-3V4a2 2 0 0 0-2-2h-2zM8 8h6v2H8V8zm0 4h6v2H8v-2z" />
    </symbol>
    <symbol id="icon-settings" viewBox="0 0 24 24">
      <path d="M19.14 12.936a7.007 7.007 0 0 0 0-1.872l2.036-1.58a.5.5 0 0 0 .12-.637l-1.928-3.337a.5.5 0 0 0-.607-.22l-2.396.96a7.016 7.016 0 0 0-1.62-.936l-.36-2.54A.5.5 0 0 0 14.5 2h-4a.5.5 0 0 0-.494.424l-.36 2.54a7.016 7.016 0 0 0-1.62.936l-2.396-.96a.5.5 0 0 0-.607.22L2.704 8.65a.5.5 0 0 0 .12.637l2.036 1.58a7.007 7.007 0 0 0 0 1.872l-2.036 1.58a.5.5 0 0 0-.12.637l1.928 3.337c.14.243.44.344.707.26l2.396-.96c.5.34 1.05.62 1.62.936l.36 2.54A.5.5 0 0 0 10.5 22h4a.5.5 0 0 0 .494-.424l.36-2.54c.57-.316 1.12-.596 1.62-.936l2.396.96c.267.084.567-.017.707-.26l1.928-3.337a.5.5 0 0 0-.12-.637l-2.036-1.58zM12 15.5A3.5 3.5 0 1 1 12 8.5a3.5 3.5 0 0 1 0 7z" />
    </symbol>
    <symbol id="icon-folder" viewBox="0 0 24 24">
      <path d="M10 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-8l-2-2z"/>
    </symbol>
    <symbol id="icon-lab" viewBox="0 0 24 24">
      <path d="M19 20H5v-2l4-4V7h6v7l4 4v2zM6 2h12v2H6V2z"/>
    </symbol>
    <symbol id="icon-chart" viewBox="0 0 24 24">
      <path d="M3 3v18h18v-2H5V3H3zm6 12h2V8H9v7zm4 0h2V5h-2v10z"/>
    </symbol>
  </svg>
</head>
<body>
  <div class="app-shell">
    <header class="top-bar">
      <div class="logo">
        <div class="logo-badge">QA</div>
        <div class="logo-text">
          <div class="title">QA CONTROL PANEL</div>
          <div class="subtitle">
            Ù…Ù†ØµØ© Ù„Ø¥Ø¯Ø§Ø±Ø© ÙØ­ÙˆØµØ§Øª Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ¥ØµØ¯Ø§Ø± ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ø­ØªØ±Ø§ÙÙŠØ©
          </div>
        </div>
      </div>
      <div class="top-actions">
        <button id="aiHintsBtn" class="chip-btn" type="button">
          <span class="circle">AI</span>
          <span>Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª ØªØ­Ø³ÙŠÙ† Ù„Ù„ØªÙ‚Ø±ÙŠØ±</span>
        </button>
        <button id="themeToggle" class="theme-toggle" type="button">
          <span>ğŸŒ“</span>
          <span>Light / Dark</span>
        </button>
      </div>
    </header>

      

    <div class="grid">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="section-title">SECTIONS</div>
        <div class="nav">
          <button class="nav-btn active" data-section="overview">
            <svg class="icon" aria-hidden="true"><use href="#icon-overview"></use></svg>
            <span class="label">
              Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©
              <br />
              <small>Meta & Summary</small>
            </span>
          </button>
          <button class="nav-btn" data-section="checklists">
            <svg class="icon" aria-hidden="true"><use href="#icon-checklist"></use></svg>
            <span class="label">
              Checklists
              <br />
              <small>Website, Admin, Mobileâ€¦</small>
            </span>
          </button>
          <button class="nav-btn" data-section="bugs">
            <svg class="icon" aria-hidden="true"><use href="#icon-bug"></use></svg>
            <span class="label">
              Bugs & Template
              <br />
              <small>Reporting Structure</small>
            </span>
          </button>
          <button class="nav-btn" data-section="report">
            <svg class="icon" aria-hidden="true"><use href="#icon-report"></use></svg>
            <span class="label">
              Report Settings
              <br />
              <small>Meta + Generate</small>
            </span>
          </button>
              <button class="nav-btn" data-section="settings">
                <svg class="icon" aria-hidden="true"><use href="#icon-settings"></use></svg>
                <span class="label">
                  Settings
                  <br />
                  <small>Platform content (UI-only)</small>
                </span>
              </button>
        </div>

        <div class="sidebar-footer">
          <div>
            <strong>Mohammad Alzoubi</strong> <br />
            QA, Cybersecurity Specialist
          </div>
          <div class="tag">
            <span>ğŸ›¡</span>
            <span>Security Mindset in Testing</span>
          </div>
          <div class="tag">
            <span>ğŸ“</span>
            <span>Professional Bug Reports</span>
          </div>
        </div>
      </aside>

      <!-- Main content -->
      <main class="main-content">
        <!-- OVERVIEW -->
        <section class="section section-active" id="overview">
          <div class="section-header">
            <div>
                <h1>
                  <svg class="icon" aria-hidden="true"><use href="#icon-overview"></use></svg>
                  Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù€ QA
                </h1>
              <p class="subtitle">
                Ø£Ø¯Ø®Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø© Ø¹Ù† Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø«Ù… Ø§Ø®ØªØ± Ù…Ø§ ØªÙ… Ø§Ø®ØªØ¨Ø§Ø±Ù‡ ÙØ¹Ù„ÙŠÙ‹Ø§ Ù…Ù†
                Ø§Ù„Ù€ Checklists.
              </p>
            </div>
                              <h2 style="margin:0;font-size:1rem;">QA Methodology & Platform Overview</h2>
            <div class="section-tools">
              <div class="metrics">
                <div class="metric-pill">
                  <span class="dot"></span>
                  <span class="label">Checklist Progress</span>
                  <span class="value" id="overallProgress">0%</span>
                </div>
                <div class="metric-pill">
                  <span class="dot" style="background:#22c55e;"></span>
                  <span class="label">Completed Items</span>
                  <span class="value" id="completedCount">0</span>
                </div>
              </div>
              <!-- Generate report button moved to Report Settings (removed from Overview) -->
            </div>
          </div>

          <!-- Meta fields removed from Overview per user request.
               Project/Client/Environment/Build/Test Date/Browsers inputs were moved out of Overview.
               If you want them restored in another location (Report Settings), tell me and I will add them there. -->

          <!-- Executive Summary (removed from Overview per user request) -->

          <div style="margin-top:1.2rem;border-top:1px dashed var(--border);padding-top:1rem;">
            <h2 style="margin:0 0 0.8rem;font-size:1rem;">QA Methodology & Platform Overview</h2>
            <div id="overviewGuides" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:0.8rem;"></div>
          </div>
        </section>
        <!-- SETTINGS (UI-only) -->
        <section class="section" id="settings">
          <div class="section-header">
            <div>
              <h1>
                <span class="icon">âš™ï¸</span>
                Settings (Platform Content)
              </h1>
              <p class="subtitle">
                Ø¹Ù†Ø§ØµØ± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ù†ØµØ©: Ø¹Ù†Ø§ÙˆÙŠÙ†ØŒ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª (Checklists) ÙˆØ¥Ø¶Ø§ÙØ© Ø£Ù‚Ø³Ø§Ù… Ø¬Ø¯ÙŠØ¯Ø©. Ù‡Ø°Ù‡ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØªØ®Øµ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙÙ‚Ø· ÙˆÙ„Ø§ ØªØªØ¹Ù„Ù‚ Ø¨Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©.
              </p>
            </div>
          </div>

          <div class="meta-grid">
            <div class="meta-field">
              <label>UI Title</label>
              <input id="uiTitle" type="text" placeholder="QA CONTROL PANEL" />
            </div>
            <div class="meta-field">
              <label>UI Subtitle</label>
              <input id="uiSubtitle" type="text" placeholder="Ù…Ù†ØµØ© Ù„Ø¥Ø¯Ø§Ø±Ø© ÙØ­ÙˆØµØ§Øª Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ¥ØµØ¯Ø§Ø± ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ø­ØªØ±Ø§ÙÙŠØ©" />
            </div>
          </div>

          <div style="margin-top:0.9rem;">
            <div class="card">
              <div class="card-header">
                <div>
                  <h2>
                    <svg class="icon" aria-hidden="true"><use href="#icon-folder"></use></svg>
                    Checklist Categories (edit labels / add / delete)
                  </h2>
                  <small>Ù‚Ù… Ø¨ØªØ¹Ø¯ÙŠÙ„ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª Ù„ØªØ¸Ù‡Ø± ÙÙŠ Tabs ÙˆØ§Ù„ØªÙ‚Ø±ÙŠØ± (Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù†ÙØ³Ù‡ ÙŠØ¸Ù„ Ø¶Ù…Ù† state.checklists).</small>
                </div>
              </div>

              <div style="display:flex;flex-direction:column;gap:0.6rem;padding:0.6rem;">
                <div id="settingsCategories"></div>

                <div style="display:flex;gap:0.5rem;align-items:center;margin-top:0.4rem;">
                  <input id="newCatKey" type="text" placeholder="key (e.g. docs)" style="padding:0.45rem;border-radius:8px;border:1px solid var(--border);flex:0 0 160px;" />
                  <input id="newCatLabel" type="text" placeholder="Label (e.g. Docs)" style="padding:0.45rem;border-radius:8px;border:1px solid var(--border);flex:1;" />
                  <button class="btn btn-primary" type="button" onclick="addCategoryFromInputs()">â• Add Category</button>
                </div>
              </div>
            </div>
          </div>
          <div style="margin-top:0.8rem;">
            <div class="card">
              <div class="card-header">
                <div>
                  <h2><svg class="icon" aria-hidden="true"><use href="#icon-folder"></use></svg> Overview Cards (edit)</h2>
                  <small>Edit Overview cards that appear on the Overview page</small>
                </div>
              </div>
              <div style="padding:0.6rem;">
                <div id="guideSettings"></div>
              </div>
            </div>
          </div>
        </section>

        <!-- CHECKLISTS -->
        <section class="section" id="checklists">
          <div class="section-header">
            <div>
              <h1>
                <svg class="icon" aria-hidden="true"><use href="#icon-checklist"></use></svg>
                QA Checklists â€“ Web, Admin, Mobile, API
              </h1>
              <p class="subtitle">
                Ø¹Ù„Ù‘Ù… ÙÙ‚Ø· Ø¹Ù„Ù‰ Ù…Ø§ ØªÙ… ØªÙ†ÙÙŠØ°Ù‡ ÙØ¹Ù„ÙŠÙ‹Ø§ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù€ Test Cycle. Ù‡Ø°Ù‡
                Ø§Ù„ØªØ´ÙŠÙƒ Ù„ÙŠØ³Øª Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ³Øª ÙƒÙŠØ³ØŒ Ø¨Ù„ Ù„ØªÙˆØ«ÙŠÙ‚ Ø§Ù„ØªØºØ·ÙŠØ© ÙÙŠ Ø§Ù„ØªÙ‚Ø±ÙŠØ±.
              </p>
            </div>
            <div class="section-tools">
              <div class="pill-tabs" id="checklistTabs"></div>
              <button class="btn btn-outline" type="button" onclick="clearAllChecks()">
                ğŸ§¹ Reset All
              </button>
            </div>
          </div>

          <div class="section-body">
            <div class="card">
              <div class="card-header">
                <div>
                  <h2>
                    <svg class="icon" aria-hidden="true"><use href="#icon-lab"></use></svg>
                    Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙØ­Øµ Ø­Ø³Ø¨ Ø§Ù„ØªØµÙ†ÙŠÙ
                  </h2>
                  <small>Website, Platform, E-commerce, Mobile, API, Performance</small>
                </div>
                  <div style="display:flex;gap:0.5rem;align-items:center;">
                    <button class="btn btn-outline" type="button" onclick="addChecklistItem()" style="font-size:0.75rem;">
                      â• New Item
                    </button>
                    <button class="btn btn-outline" type="button" onclick="openBulkImport()" style="font-size:0.75rem;">ğŸ“¥ Bulk Import</button>
                    <button class="btn btn-outline" type="button" onclick="toggleShowOrderHelp()" style="font-size:0.75rem;">â‡… Reorder</button>
                  </div>
              </div>
              <div class="checklist" id="checklistContainer"></div>
            </div>

            <div class="card">
              <div class="card-header">
                <div>
                  <h2>
                    <svg class="icon" aria-hidden="true"><use href="#icon-chart"></use></svg>
                    Ù…Ù„Ø®Øµ Ø³Ø±ÙŠØ¹ Ù„Ù„ØªØºØ·ÙŠØ©
                  </h2>
                  <small>ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ØªØ´ÙŠÙƒ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø§Ù„ÙŠØ³Ø§Ø±</small>
                </div>
              </div>
              <div style="display:flex;flex-direction:column;gap:0.7rem;">
                <div>
                  <div class="progress-bar">
                    <div class="progress-bar-inner" id="progressBar"></div>
                  </div>
                  <div class="progress-label">
                    Coverage: <span id="coverageLabel">0%</span>
                  </div>
                </div>
                <div class="chip-row" id="coverageChips"></div>
                <div class="report-preview" id="coverageNotes">
                  Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ù…Ù„Ø®Øµ Ù†ØµÙŠ Ù‚ØµÙŠØ± Ù‡Ù†Ø§ ÙŠÙˆØ¶Ø­ Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„ØªÙŠ ØªÙ… ØªØºØ·ÙŠØªÙ‡Ø§
                  (Ù…Ø«Ø§Ù„: Website + Admin ÙÙ‚Ø·ØŒ Ø£Ùˆ Web + Mobile + API...).
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- BUGS & TEMPLATE -->
        <section class="section" id="bugs">
          <div class="section-header">
            <div>
              <h1>
                <svg class="icon" aria-hidden="true"><use href="#icon-bug"></use></svg>
                Bug Reporting Framework
              </h1>
              <p class="subtitle">
                Ù‡Ù†Ø§ Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø°ÙŠ Ø³ØªØ³ØªØ®Ø¯Ù…Ù‡ Ù„ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ù€ Bugs: Template Ø¬Ø§Ù‡Ø² + Matrix
                Ù„Ù„Ù€ Severity / Priority + Ø¯ÙˆØ±Ø© Ø­ÙŠØ§Ø© Ø§Ù„Ù€ Bug + ØªØ³Ø¬ÙŠÙ„ Bugs Ø­Ù‚ÙŠÙ‚ÙŠØ©.
              </p>
            </div>
          </div>

          <div class="section-body">
            <!-- Template + Checklist -->
            <div class="card">
              <div class="card-header">
                <div>
                  <h2>
                    <span class="icon">ğŸ“„</span>
                    Standard Bug Report Template
                  </h2>
                  <small>Ø§Ù„ØµÙŠØºØ© Ø§Ù„ØªÙŠ Ø³ØªØ±Ø³Ù„ Ø¨Ù‡Ø§ Bugs Ù„Ù„Ø¹Ù…ÙŠÙ„ Ø£Ùˆ ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ·ÙˆÙŠØ±</small>
                </div>
              </div>
              <div>
                <h3 style="margin:0 0 0.3rem;">Fields</h3>
                <div class="table-card">
                  <table>
                    <thead>
                      <tr>
                        <th>Field</th>
                        <th>Example</th>
                        <th>Ø´Ø±Ø­</th>
                      </tr>
                    </thead>
                    <tbody id="bugTemplate"></tbody>
                  </table>
                </div>
                <div style="margin-top:0.6rem;">
                  <label style="font-weight:600;">Edit Template (one per line: field|example|desc)</label>
                  <textarea id="bugTemplateEditor" style="width:100%;min-height:80px;padding:0.5rem;border-radius:8px;border:1px solid var(--border);"></textarea>
                  <div style="display:flex;gap:0.5rem;justify-content:flex-end;margin-top:0.4rem;">
                    <button class="btn btn-outline" type="button" onclick="applyBugTemplateEditor()">Save Template</button>
                    <button class="btn btn-outline" type="button" onclick="resetBugTemplateToDefault()">Reset Default</button>
                  </div>
                </div>
              </div>

              <div style="margin-top:1rem;">
                <h3>âœ… Bug Report Checklist (ØªØ­Ù‚Ù‚ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„)</h3>
                <div class="table-card">
                  <table>
                    <thead>
                      <tr>
                        <th>#</th>
                        <th>Item</th>
                      </tr>
                    </thead>
                    <tbody id="bugChecklist"></tbody>
                  </table>
                </div>
                <div style="margin-top:0.6rem;">
                  <label style="font-weight:600;">Edit Bug Checklist (one item per line)</label>
                  <textarea id="bugChecklistEditor" style="width:100%;min-height:80px;padding:0.5rem;border-radius:8px;border:1px solid var(--border);"></textarea>
                  <div style="display:flex;gap:0.5rem;justify-content:flex-end;margin-top:0.4rem;">
                    <button class="btn btn-outline" type="button" onclick="applyBugChecklistEditor()">Save Checklist</button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Real Bugs + Severity / Life Cycle / Tips -->
            <div class="card">
              <div class="card-header">
                <div>
                  <h2>
                    <span class="icon">ğŸ›</span>
                    Real Bugs â€“ Current Cycle
                  </h2>
                  <small>Ø³Ø¬Ù‘Ù„ Ù‡Ù†Ø§ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ÙØ¹Ù„ÙŠØ© Ù„ÙŠØªÙ… Ø³Ø­Ø¨Ù‡Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ÙÙŠ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ.</small>
                </div>
              </div>

              <!-- Form Ø¥Ø¯Ø®Ø§Ù„ Bug Ø¬Ø¯ÙŠØ¯ -->
              <div>
                <div class="meta-grid">
                  <div class="meta-field">
                    <label>Area / Screen</label>
                    <input id="bugArea" type="text" placeholder="Ù…Ø«Ø§Ù„: Website â€“ Booking page" />
                  </div>
                  <div class="meta-field">
                    <label>Severity</label>
                    <select id="bugSeverity">
                      <option value="Critical">Critical</option>
                      <option value="Major" selected>Major</option>
                      <option value="Minor">Minor</option>
                    </select>
                  </div>
                  <div class="meta-field">
                    <label>Priority</label>
                    <select id="bugPriority">
                      <option value="P1">P1</option>
                      <option value="P2" selected>P2</option>
                      <option value="P3">P3</option>
                    </select>
                  </div>
                  <div class="meta-field">
                    <label>Status</label>
                    <select id="bugStatus">
                      <option value="Open" selected>Open</option>
                      <option value="In Progress">In Progress</option>
                      <option value="Closed">Closed</option>
                    </select>
                  </div>
                  <div class="meta-field">
                    <label>Short title</label>
                    <input id="bugTitle" type="text" placeholder="Ù…Ø«Ø§Ù„: Booking fails with valid data" />
                  </div>
                  <div class="meta-field">
                    <label>Notes / Suggested fix</label>
                    <input id="bugNotes" type="text" placeholder="Optional notes for developer..." />
                  </div>
                </div>

                <div style="margin-top:0.6rem;display:flex;justify-content:flex-end;">
                  <button class="btn btn-primary" type="button" onclick="addBug()">
                    â• Add Bug
                  </button>
                  <button id="exportBugsBtn" class="btn btn-outline" type="button" style="margin-inline-start:0.6rem;">â¬‡ Export CSV</button>
                </div>

                <!-- Ø¬Ø¯ÙˆÙ„ Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ø¬Ø² -->
                <div class="table-card" style="margin-top:0.6rem;max-height:210px;overflow:auto;">
                  <table class="report-table">
                    <thead>
                      <tr>
                        <th>ID</th>
                        <th>Area</th>
                        <th>Severity</th>
                        <th>Priority</th>
                        <th>Status</th>
                        <th>Title</th>
                        <th>Notes</th>
                        <th>Actions</th>
                      </tr>
                    </thead>
                    <tbody id="bugsTableBody">
                      <!-- filled by JS -->
                    </tbody>
                  </table>
                </div>
              </div>

              <!-- Reference -->
              <div style="margin-top:1rem;border-top:1px dashed var(--border);padding-top:0.7rem;">
                <h3 style="margin:0 0 0.3rem;">Severity â†’ Priority Matrix</h3>
                <div class="table-card">
                  <table>
                    <thead>
                      <tr>
                        <th>Severity</th>
                          <th>Priority</th>
                          <th>Recommended SLA</th>
                          <th>Ø´Ø±Ø­</th>
                      </tr>
                    </thead>
                      <tbody id="sevMatrix"></tbody>
                  </table>
                </div>
                  <div style="margin-top:0.6rem;display:flex;gap:0.5rem;align-items:center;">
                    <input id="newSevName" placeholder="Severity name (e.g. Critical)" style="padding:0.4rem;border-radius:8px;border:1px solid var(--border);flex:1;" />
                    <input id="newSevPriority" placeholder="Priority (P1)" style="padding:0.4rem;border-radius:8px;border:1px solid var(--border);width:120px;" />
                    <input id="newSevSla" placeholder="SLA (e.g. 24h)" style="padding:0.4rem;border-radius:8px;border:1px solid var(--border);width:120px;" />
                    <button class="btn btn-primary" type="button" onclick="addSeverityEntry()">â• Add Severity</button>
                  </div>

                <div style="margin-top:1rem;">
                  <h3>Bug Life Cycle</h3>
                  <div class="table-card">
                    <table>
                      <thead>
                        <tr>
                          <th>Status</th>
                          <th>Ø´Ø±Ø­</th>
                        </tr>
                      </thead>
                      <tbody id="bugLife"></tbody>
                    </table>
                  </div>
                </div>

                <div style="margin-top:1rem;">
                  <h3>Pro Tips (Ù†ØµØ§Ø¦Ø­ Ù„ÙƒØªØ§Ø¨Ø© ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ø­ØªØ±Ø§ÙÙŠØ©)</h3>
                  <div class="table-card">
                    <table>
                      <thead>
                        <tr>
                          <th>#</th>
                          <th>Tip</th>
                        </tr>
                      </thead>
                      <tbody id="proTips"></tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- REPORT SETTINGS -->
        <section class="section" id="report">
          <div class="section-header">
            <div>
              <h1>
                <svg class="icon" aria-hidden="true"><use href="#icon-report"></use></svg>
                Report Settings & Meta
              </h1>
              <p class="subtitle">
                Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙŠ Ø³ØªØ¸Ù‡Ø± ÙÙŠ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ (Header + Summary Table). Ø§Ø­ÙØ¸Ù‡Ø§ Ù…Ø±Ø© Ø«Ù…
                Ø§Ø³ØªØ®Ø¯Ù… Generate EN Report.
              </p>
            </div>
            <div class="section-tools">
              <button class="btn btn-primary" type="button" onclick="generateEnReport()">
                <span>ğŸ“„</span>
                <span>Generate EN Report</span>
              </button>
            </div>
          </div>

          <div class="meta-grid">
              <div class="meta-field">
                <label>Report Author</label>
                <input id="reportAuthor" type="text" placeholder="Name that will appear in the report" />
              </div>
              <div class="meta-field">
                <label>Project Code</label>
                <input id="projectCode" type="text" placeholder="Project code / ID" />
              </div>
              <div class="meta-field">
                <label>Scope</label>
                <input id="scope" type="text" placeholder="Short scope description" />
              </div>
            <div class="meta-field">
              <label>Project / Product Name</label>
              <input id="projectName2" type="text" placeholder="Same as Arabic project name" />
            </div>
            <div class="meta-field">
              <label>Client / Company</label>
              <input id="clientName2" type="text" placeholder="Client name in English" />
            </div>
            <div class="meta-field">
              <label>Environment</label>
              <input id="env2" type="text" value="Staging" />
            </div>
            <div class="meta-field">
              <label>Build / Version</label>
              <input id="build2" type="text" placeholder="Release-2025.11.13" />
            </div>
            <div class="meta-field">
              <label>Test Date</label>
              <input id="testDate2" type="date" />
            </div>
            <div class="meta-field">
              <label>Browsers / Devices</label>
              <input
                id="browsers2"
                type="text"
                placeholder="Chrome, Firefox, Edge, Android, iOS..."
              />
            </div>
          </div>

          <div style="margin-top:0.8rem;">
            <div class="meta-field">
              <label>Executive Summary (English)</label>
              <textarea
                id="summaryNotes2"
                placeholder="Short English summary that will appear at the top of the generated report."
              ></textarea>
            </div>
            <div style="margin-top:0.6rem;">
              <label style="font-weight:600;">Default Executive Summary (editable template)</label>
              <textarea id="defaultExecSummary" placeholder="Default template used when no summary provided..." style="width:100%;min-height:80px;margin-top:0.4rem;padding:0.5rem;border-radius:8px;border:1px solid var(--border);"></textarea>
            </div>

            <div style="margin-top:0.6rem;display:flex;gap:0.6rem;align-items:center;">
              <label style="display:flex;align-items:center;gap:0.5rem;">
                <input id="includeAllChecklistItems" type="checkbox" style="transform:scale(1.1);" />
                <span>Include all checklist items in report (show status for each)</span>
              </label>
            </div>
          </div>

          <div class="report-preview" id="execSummaryPreviewEn">
            <strong>Preview:</strong> If you leave the summary empty, a generic
            executive summary will be generated using the checklists coverage
            and meta information.
          </div>
        </section>
      </main>
    </div>
  </div>

  <script>
    const DEFAULT_STATE = {
      meta: {
        projectName: "",
        clientName: "",
        reportAuthor: "",
        projectCode: "",
        scope: "",
        env: "Staging",
        build: "",
        testDate: "",
        browsers: "",
        summaryNotes: "",
        summaryNotesEn: ""
      },
        // Settings are UI-only controls (do NOT affect print options directly)
        settings: {
          uiTitle: "QA CONTROL PANEL",
          uiSubtitle: "Ù…Ù†ØµØ© Ù„Ø¥Ø¯Ø§Ø±Ø© ÙØ­ÙˆØµØ§Øª Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ¥ØµØ¯Ø§Ø± ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ø­ØªØ±Ø§ÙÙŠØ©",
          // labels for checklist categories (used in tabs and report headings)
          checklistLabels: {
            website: 'Website â€“ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…',
            platform: 'Platform / Admin â€“ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…',
            ecom: 'E-Commerce',
            mobile: 'Mobile App â€“ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„',
            api: 'API',
            perf: 'Performance'
          }
        },
      checklists: {
        website: [
          {
            id: "w1",
            title: "Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ØªØ¹Ø±Ø¶ Ø¨Ø¯ÙˆÙ† Ø£Ø®Ø·Ø§Ø¡",
            desc: "Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ± (Ø§Ù„Ù‡ÙŠØ¯Ø±ØŒ Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø±ØŒ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©) ØªØ¸Ù‡Ø± Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ©.",
            done: false
          },
          {
            id: "w2",
            title: "Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ØªØ¹Ù…Ù„",
            desc: "Ø§Ù„Ø±ÙˆØ§Ø¨Ø· ÙÙŠ Ø§Ù„Ù‡ÙŠØ¯Ø± ÙˆØ§Ù„ÙÙˆØªØ± Ù„Ø§ ØªØ¹Ø·ÙŠ 404ØŒ ÙˆØªØ°Ù‡Ø¨ Ø¥Ù„Ù‰ Ø§Ù„ÙˆØ¬Ù‡Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©.",
            done: false
          },
          {
            id: "w3",
            title: "Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ (Contact / Booking)",
            desc: "ÙŠÙ…ÙƒÙ† Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ØŒ ÙˆÙŠØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ÙˆØ§Ù„Ù€ Email ÙˆØ§Ù„Ù€ Phone.",
            done: false
          },
          {
            id: "w4",
            title: "Ø§Ù„Ø¯Ø¹Ù… Ù„Ù„Ù‘ØºØªÙŠÙ† (Ø¥Ù† ÙˆØ¬Ø¯)",
            desc: "Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ù„Ø§ ÙŠÙƒØ³Ø± Ø§Ù„ØªØµÙ…ÙŠÙ…ØŒ ÙˆÙƒÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù…ØªØ±Ø¬Ù….",
            done: false
          },
          {
            id: "w5",
            title: "Ø§Ù„ØªØ¬Ø§ÙˆØ¨ Ù…Ø¹ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„",
            desc: "Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙŠØ¸Ù‡Ø± Ø¨Ø´ÙƒÙ„ Ø¬ÙŠØ¯ Ø¹Ù„Ù‰ Ø´Ø§Ø´Ø§Øª Ù…Ø®ØªÙ„ÙØ©ØŒ Ø¨Ø¯ÙˆÙ† Scroll Ø£ÙÙ‚ÙŠ Ø£Ùˆ Ø¹Ù†Ø§ØµØ± Ù…ÙƒØ³ÙˆØ±Ø©.",
            done: false
          },
          {
            id: "w6",
            title: "Ø§Ù„Ù‡ÙŠØ¯Ø± Header",
            desc: "Ù‡Ù„ Ø§Ù„Ø´Ø¹Ø§Ø± Logo ÙˆØ§Ø¶Ø­ ÙˆÙŠØ£Ø®Ø°Ùƒ Ù„Ù„Ù€ HomeØŸ",
            done: false
          },
          {
            id: "w7",
            title: "Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
            desc: "Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· ÙÙŠ Ø§Ù„Ù…Ù†ÙŠÙˆ ØªÙØªØ­ ØµÙØ­Ø§Øª ØµØ­ÙŠØ­Ø©ØŸ",
            done: false
          },
          {
            id: "w8",
            title: "Ø§Ù„Ù€ Active State",
            desc: "Ù‡Ù„ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù…Ù…ÙŠØ²Ø© (Ù„ÙˆÙ† Ù…Ø®ØªÙ„Ù ÙÙŠ Ø§Ù„Ù…Ù†ÙŠÙˆ)ØŸ",
            done: false
          },
          {
            id: "w9",
            title: "Ø§Ù„Ù€ Hero Section",
            desc: "Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ÙˆØ§Ø¶Ø­ ÙˆÙŠØ´Ø±Ø­ Ø§Ù„Ø®Ø¯Ù…Ø©ØŸ",
            done: false
          },
          {
            id: "w10",
            title: "Ø²Ø± Ø§Ù„Ù€ CTA Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ",
            desc: "Ø²Ø± Ù…Ø«Ù„ 'Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†' / 'ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§' ÙˆØ§Ø¶Ø­ ÙˆØ¨Ø§Ø±Ø²ØŸ",
            done: false
          },
          {
            id: "w11",
            title: "Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©",
            desc: "Ø£Ø²Ø±Ø§Ø± Ù…Ø«Ù„ 'Ø§Ù‚Ø±Ø£ Ø§Ù„Ù…Ø²ÙŠØ¯' ØªØ¹Ù…Ù„ ÙˆØªÙØªØ­ Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„ØµØ­ÙŠØ­ØŸ",
            done: false
          },
          {
            id: "w12",
            title: "Ø§Ù„Ù†ØµÙˆØµ",
            desc: "Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø£Ø®Ø·Ø§Ø¡ Ø¥Ù…Ù„Ø§Ø¦ÙŠØ© / ØªÙƒØ±Ø§Ø± / ØªØ±Ø¬Ù…Ø© Ù†Ø§Ù‚ØµØ©ØŸ",
            done: false
          },
          {
            id: "w13",
            title: "Ø§Ù„ØµÙˆØ±",
            desc: "Ø§Ù„ØµÙˆØ± ÙˆØ§Ø¶Ø­Ø© ÙˆØºÙŠØ± Ù…ÙƒØ³Ù‘Ø±Ø© (Ù„Ø§ ØªØ¸Ù‡Ø± Ù…Ù‚ØµÙˆØµØ© Ø£Ùˆ Ù…Ø´ÙˆØ´Ø©)ØŸ",
            done: false
          },
          {
            id: "w14",
            title: "Ø§Ù„Ø£Ù‚Ø³Ø§Ù… (Sections)",
            desc: "ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ù…Ù†Ø·Ù‚ÙŠ (Ù…Ù‚Ø¯Ù…Ø© â†’ Ø´Ø±Ø­ â†’ ÙÙˆØ§Ø¦Ø¯ â†’ CTA)ØŸ",
            done: false
          },
          {
            id: "w15",
            title: "Ø§Ù„ÙÙˆØªØ± Footer",
            desc: "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ ØµØ­ÙŠØ­Ø© + Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø³ÙˆØ´Ø§Ù„ ØªØ¹Ù…Ù„ØŸ",
            done: false
          },
          {
            id: "w16",
            title: "Ø§Ù„Ù€ Forms â€“ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©",
            desc: "Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Required Ù„Ø§ ØªØ³Ù…Ø­ Ø¨Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙØ§Ø±ØºØŸ",
            done: false
          },
          {
            id: "w17",
            title: "Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø®Ø·Ø£",
            desc: "Ø¹Ù†Ø¯ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ø§Ø·Ø¦Ø©ØŒ Ù‡Ù„ ØªØ¸Ù‡Ø± Ø±Ø³Ø§Ù„Ø© Ù…ÙÙ‡ÙˆÙ…Ø©ØŸ",
            done: false
          },
          {
            id: "w18",
            title: "Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­",
            desc: "Ø¨Ø¹Ø¯ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ØŒ Ù‡Ù„ ÙŠØ¸Ù‡Ø± ØªØ£ÙƒÙŠØ¯ ÙˆØ§Ø¶Ø­ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ØŸ",
            done: false
          },
          {
            id: "w19",
            title: "ØªØ¹Ø¯Ø¯ Ø§Ù„Ù„ØºØ§Øª",
            desc: "Ù„Ùˆ ÙÙŠ Ø¹Ø±Ø¨ÙŠ/Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØŒ Ù‡Ù„ ÙƒÙ„ Ø§Ù„Ù†ØµÙˆØµ Ù…ØªØ±Ø¬Ù…Ø©ØŸ",
            done: false
          },
          {
            id: "w20",
            title: "Ø§Ù„ÙˆØ¶ÙˆØ­ Ø§Ù„Ø¨ØµØ±ÙŠ ÙˆØ§Ù„ØªØ¨Ø§ÙŠÙ†",
            desc: "Ø§Ù„Ù†Øµ ÙˆØ§Ø¶Ø­ ÙÙˆÙ‚ Ø§Ù„Ø®Ù„ÙÙŠØ© ÙˆØ§Ù„Ù…Ø³Ø§ÙØ§Øª Ù…Ù†Ø·Ù‚ÙŠØ©ØŸ",
            done: false
          }
        ],
        platform: [
          {
            id: "p1",
            title: "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª",
            desc: "Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¯Ø®ÙˆÙ„ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø¯ÙˆÙ† LoginØŒ ÙˆØ­Ø³Ø¨ Ø§Ù„Ù€ Role ØªØ¸Ù‡Ø± Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„ØµØ­ÙŠØ­Ø©.",
            done: false
          },
          {
            id: "p2",
            title: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ / Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª",
            desc: "Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (Ø¥Ø¶Ø§ÙØ©ØŒ ØªØ¹Ø¯ÙŠÙ„ØŒ Ø­Ø°Ù) ØªØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø£Ø®Ø·Ø§Ø¡.",
            done: false
          },
          {
            id: "p3",
            title: "Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø­Ø±Ø¬Ø©",
            desc: "Ø¥Ø¶Ø§ÙØ©/ØªØ¹Ø¯ÙŠÙ„/Ø­Ø°Ù Ø¨ÙŠØ§Ù†Ø§Øª (CRUD) ØªØ¹Ù…Ù„ Ù…Ù† A Ø¥Ù„Ù‰ Z Ù…Ø¹ Ø±Ø³Ø§Ø¦Ù„ ØªØ£ÙƒÙŠØ¯.",
            done: false
          },
          {
            id: "p4",
            title: "Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙˆØ§Ù„ÙÙ„ØªØ±Ø© ÙˆØ§Ù„ØªØµØ¯ÙŠØ±",
            desc: "Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¯Ø¹Ù… Ø§Ù„Ø¨Ø­Ø«ØŒ Ø§Ù„ØªØ±ØªÙŠØ¨ØŒ ÙˆØ§Ù„Ù€ export (Excel / PDF) Ø¥Ù† ÙˆØ¬Ø¯.",
            done: false
          },
          {
            id: "p5",
            title: "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ â€“ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡",
            desc: "Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ø§Ø·Ø¦Ø© ÙŠØ¹Ø·ÙŠ Ø±Ø³Ø§Ù„Ø© ÙˆØ§Ø¶Ø­Ø©.",
            done: false
          },
          {
            id: "p6",
            title: "Ø­Ù…Ø§ÙŠØ© Ø§Ù„ØµÙØ­Ø§Øª",
            desc: "Ù‡Ù„ ÙŠÙ…ÙƒÙ† ÙØªØ­ ØµÙØ­Ø© Admin Ø¨Ø¯ÙˆÙ† LoginØŸ",
            done: false
          },
          {
            id: "p7",
            title: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Roles",
            desc: "Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø°Ùˆ ØµÙ„Ø§Ø­ÙŠØ© Ø£Ù‚Ù„ Ù„Ø§ ÙŠØ±Ù‰ Ø®ÙŠØ§Ø±Ø§Øª Ø­Ø³Ø§Ø³Ø© (Users, Settings).",
            done: false
          },
          {
            id: "p8",
            title: "Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Dashboard",
            desc: "Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¸Ø§Ù‡Ø±Ø© Ù…Ù†Ø·Ù‚ÙŠØ© ÙˆÙ…Ø­Ø¯Ø«Ø©ØŸ",
            done: false
          },
          {
            id: "p9",
            title: "Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø¯Ø§Ø®Ù„ Dashboard",
            desc: "Ø£Ø²Ø±Ø§Ø± Ù…Ø«Ù„ View All / Details ØªÙ†Ù‚Ù„Ùƒ Ù„Ù„ØµÙØ­Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©.",
            done: false
          },
          {
            id: "p10",
            title: "Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†",
            desc: "Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­.",
            done: false
          },
          {
            id: "p11",
            title: "Ø§Ù„ÙØ±Ø² / Sorting",
            desc: "Ù„Ùˆ ÙÙŠ ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„ØªØ§Ø±ÙŠØ®/Ø§Ù„Ø§Ø³Ù…ØŒ Ù‡Ù„ ÙŠØ¹Ù…Ù„ ØµØ­ØŸ",
            done: false
          },
          {
            id: "p12",
            title: "Pagination",
            desc: "Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª 1, 2, 3â€¦ ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø£Ø®Ø·Ø§Ø¡.",
            done: false
          },
          {
            id: "p13",
            title: "Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ± Ø¬Ø¯ÙŠØ¯",
            desc: "Ø¹Ù†Ø¯ Create (User/Service/Booking)ØŒ Ù‡Ù„ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ù‚ÙˆÙ„ ØµØ­ÙŠØ­ØŸ",
            done: false
          },
          {
            id: "p14",
            title: "ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù†ØµØ±",
            desc: "Edit ÙŠØ­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª ÙˆÙŠÙ†Ø¹ÙƒØ³ ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙˆØ§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ©.",
            done: false
          },
          {
            id: "p15",
            title: "Ø­Ø°Ù / Archive",
            desc: "Ø¹Ù†Ø¯ Delete ÙŠØ¸Ù‡Ø± ØªØ£ÙƒÙŠØ¯ Ù‚Ø¨Ù„ Ø§Ù„Ø­Ø°Ù.",
            done: false
          },
          {
            id: "p16",
            title: "Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø¹Ù†Ø§ØµØ±",
            desc: "ØªØºÙŠÙ‘Ø± Ø­Ø§Ù„Ø© (Active / Inactive / Pending) ÙŠÙ†Ø¹ÙƒØ³ ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©.",
            done: false
          },
          {
            id: "p17",
            title: "ÙÙ„ØªØ±Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª",
            desc: "ÙÙ„Ø§ØªØ± Ù…Ø«Ù„ (Status, Date Range) ØªØ¹Ù…Ù„ ÙƒÙ…Ø§ ÙŠØ¬Ø¨.",
            done: false
          },
          {
            id: "p18",
            title: "Settings â€“ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹",
            desc: "ØªØ¹Ø¯ÙŠÙ„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ/Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ ÙŠØ¸Ù‡Ø± ÙÙŠ Ø§Ù„Ù…ÙˆÙ‚Ø¹.",
            done: false
          },
          {
            id: "p19",
            title: "Settings â€“ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø³ÙˆØ´Ø§Ù„",
            desc: "ØªØ¹Ø¯ÙŠÙ„ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø³ÙˆØ´Ø§Ù„ ÙŠÙ†Ø¹ÙƒØ³ ÙÙŠ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ©.",
            done: false
          },
          {
            id: "p20",
            title: "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬",
            desc: "Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ ÙŠØ¹Ù…Ù„ ÙØ¹Ù„Ø§Ù‹ ÙˆÙŠÙ…Ø³Ø­ Session.",
            done: false
          }
        ],
        ecom: [
          {
            id: "e1",
            title: "Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª",
            desc: "Ø¥Ø¶Ø§ÙØ©/Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Ø§Ù„Ø³Ù„Ø© ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­.",
            done: false
          },
          {
            id: "e2",
            title: "Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ (Checkout)",
            desc: "Ù…Ù† Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù†ØªØ¬ ÙˆØ­ØªÙ‰ Ø§Ù„Ø¯ÙØ¹/ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ø¯ÙˆÙ† Ø£Ø®Ø·Ø§Ø¡.",
            done: false
          },
          {
            id: "e3",
            title: "ØªØ¬Ø±Ø¨Ø© Guest Checkout",
            desc: "Ø§Ù„Ø´Ø±Ø§Ø¡ Ø¨Ø¯ÙˆÙ† Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ (Ø¥Ù† ÙƒØ§Ù† Ù…Ø¯Ø¹ÙˆÙ…) ÙŠØ¹Ù…Ù„ Ø¨Ù„Ø§ Ù…Ø´Ø§ÙƒÙ„.",
            done: false
          },
          {
            id: "e4",
            title: "Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø·Ù„Ø¨",
            desc: "Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù€ Email / SMS / WhatsApp Ø¹Ù† Ø§Ù„Ø·Ù„Ø¨ ØªØµÙ„ Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©.",
            done: false
          }
        ],
        mobile: [
          {
            id: "m1",
            title: "Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„",
            desc: "Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ø§Ø·Ø¦Ø© ÙŠØ¹Ø·ÙŠ Ø±Ø³Ø§Ù„Ø© ÙˆØ§Ø¶Ø­Ø©.",
            done: false
          },
          {
            id: "m2",
            title: "ØªØ¬Ø±Ø¨Ø© Ø£ÙˆÙ„ Ø¯Ø®ÙˆÙ„",
            desc: "Ù‡Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙÙ‡Ù… Ù…Ø§Ø°Ø§ ÙŠÙØ¹Ù„ Ø£ÙˆÙ„ Ù…Ø§ ÙŠÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ØŸ",
            done: false
          },
          {
            id: "m3",
            title: "Ø­Ø¬Ù… Ø§Ù„Ø¹Ù†Ø§ØµØ±",
            desc: "Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙˆØ§Ù„Ù†ØµÙˆØµ Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆØ§Ù„Ø¶ØºØ· Ø¨Ø³Ù‡ÙˆÙ„Ø©.",
            done: false
          },
          {
            id: "m4",
            title: "Ø§Ù„ØªÙ†Ù‚Ù„ Navigation",
            desc: "Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª (Bottom Menu / Drawer) ØªÙ†Ù‚Ù„Ùƒ Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©.",
            done: false
          },
          {
            id: "m5",
            title: "Ø§Ù„Ø¹ÙˆØ¯Ø© Back",
            desc: "Ø²Ø± Back ÙŠØ±Ø¬Ø¹Ùƒ Ø®Ø·ÙˆØ© Ù…Ù†Ø·Ù‚ÙŠØ© ÙˆÙ„ÙŠØ³ ÙŠØ®Ø±Ø¬ Ù…Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙØ¬Ø£Ø©.",
            done: false
          },
          {
            id: "m6",
            title: "Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ÙØ§Ø±ØºØ©",
            desc: "Ù„Ùˆ Ù…Ø§ ÙÙŠ Ø¨ÙŠØ§Ù†Ø§Øª (Ù„Ø§ Ø­Ø¬ÙˆØ²Ø§Øª Ù…Ø«Ù„Ø§Ù‹)ØŒ Ù‡Ù„ ÙŠØ¸Ù‡Ø± 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª'ØŸ",
            done: false
          },
          {
            id: "m7",
            title: "Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Forms",
            desc: "Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ù„Ø§ ØªØ³Ù…Ø­ Ø¨Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙØ§Ø±Øº.",
            done: false
          },
          {
            id: "m8",
            title: "Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø®Ø·Ø£",
            desc: "Ø§Ù„Ù†Øµ ÙˆØ§Ø¶Ø­ ÙˆÙ…ÙÙ‡ÙˆÙ… (Ø¨Ø¯ÙˆÙ† Ø±Ø³Ø§Ø¦Ù„ ØªÙ‚Ù†ÙŠØ© ØºØ±ÙŠØ¨Ø©).",
            done: false
          },
          {
            id: "m9",
            title: "Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­",
            desc: "Ø¹Ù†Ø¯ Ø¥ØªÙ…Ø§Ù… Ø­Ø¬Ø²/Ø·Ù„Ø¨ØŒ Ù‡Ù„ ÙŠØ¸Ù‡Ø± ØªØ£ÙƒÙŠØ¯ Ù…Ø±ÙŠØ­ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ØŸ",
            done: false
          },
          {
            id: "m10",
            title: "ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª",
            desc: "Ù‡Ù„ ØªØ¸Ù‡Ø± Loading Indicator Ø¹Ù†Ø¯ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ",
            done: false
          },
          {
            id: "m11",
            title: "Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ±",
            desc: "ÙÙŠ Ø­Ø§Ù„ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ (No Internet)ØŒ Ù‡Ù„ ØªØ¸Ù‡Ø± Ø±Ø³Ø§Ù„Ø© ÙˆØ§Ø¶Ø­Ø©ØŸ",
            done: false
          },
          {
            id: "m12",
            title: "Ø§Ù„Ø£Ø¯Ø§Ø¡",
            desc: "Ù‡Ù„ Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø³Ù„Ø³ Ø£Ùˆ ÙÙŠ ØªÙ‡Ù†ÙŠØ¬ØŸ",
            done: false
          },
          {
            id: "m13",
            title: "Ø§Ù„Ø§ØªØ³Ø§Ù‚ Ù…Ø¹ Ø§Ù„Ù…ÙˆÙ‚Ø¹",
            desc: "Ù‡Ù„ Ø§Ù„Ø£Ù„ÙˆØ§Ù†ØŒ Ø§Ù„Ø´Ø¹Ø§Ø±ØŒ Ø§Ù„Ù„ØºØ© Ù…ØªÙˆØ§ÙÙ‚Ø© Ù…Ø¹ Ø§Ù„Ù…ÙˆÙ‚Ø¹ØŸ",
            done: false
          },
          {
            id: "m14",
            title: "Ø§Ù„ÙˆØµÙˆÙ„ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",
            desc: "Ø§Ù„Ù†ØµÙˆØµ Ù„Ø§ ØªØ¹ØªÙ…Ø¯ ÙÙ‚Ø· Ø¹Ù„Ù‰ Ø§Ù„Ù„ÙˆÙ† (Ù…Ø«Ù„Ø§Ù‹ Ø§Ù„Ø­Ø§Ù„Ø©: Pending Ø¨Ù„ÙˆÙ† + ÙƒÙ„Ù…Ø©).",
            done: false
          },
          {
            id: "m15",
            title: "Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª (Ù„Ùˆ Ù…ÙˆØ¬ÙˆØ¯Ø©)",
            desc: "Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Notification ÙŠÙØªØ­ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.",
            done: false
          }
        ],
        api: [
          {
            id: "a1",
            title: "Ø§Ù„Ù€ Endpoints Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
            desc: "Ø§Ù„Ù€ APIs Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø© ÙÙŠ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø­Ø±Ø¬Ø© ØªØ±Ø¬Ø¹ Status Codes ØµØ­ÙŠØ­Ø©.",
            done: false
          },
          {
            id: "a2",
            title: "Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª (Validation)",
            desc: "Ø·Ù„Ø¨Ø§Øª Ù†Ø§Ù‚ØµØ© Ø£Ùˆ Ø®Ø§Ø·Ø¦Ø© ØªØ±Ø¬Ø¹ Messages ÙˆØ§Ø¶Ø­Ø© Ùˆ 4xx Ù…Ù†Ø§Ø³Ø¨.",
            done: false
          },
          {
            id: "a3",
            title: "Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ",
            desc: "Ø§Ù„Ù€ Auth Tokens / API Keys Ù…Ø­Ù…ÙŠØ© ÙˆÙ„Ø§ ØªØ¸Ù‡Ø± ÙÙŠ Ø§Ù„Ù€ Logs Ø¨Ø´ÙƒÙ„ Ø®Ø§Ù….",
            done: false
          },
          {
            id: "a4",
            title: "Ø§Ù„ØªØ­Ù…Ù„ (Rate limiting)",
            desc: "Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¯Ø© Ø·Ù„Ø¨Ø§Øª Ù…ØªØªØ§Ù„ÙŠØ© Ù„Ø§ ÙŠÙƒØ³Ø± Ø§Ù„Ø®Ø¯Ù…Ø©ØŒ ÙˆÙŠÙˆØ¬Ø¯ Ø­Ù…Ø§ÙŠØ© Ù…Ù† Ø§Ù„Ù€ Abuse Ø¥Ù† Ø£Ù…ÙƒÙ†.",
            done: false
          }
        ],
        perf: [
          {
            id: "pf1",
            title: "Ø³Ø±Ø¹Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø§Øª",
            desc: "Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ØªÙØ­Ù…Ù‘Ù„ ÙÙŠ ÙˆÙ‚Øª Ù…Ù‚Ø¨ÙˆÙ„ Ø¹Ù„Ù‰ 3G / 4G.",
            done: false
          },
          {
            id: "pf2",
            title: "Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ù…Ù„ÙØ§Øª",
            desc: "Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙˆØ± Ù…Ø¶ØºÙˆØ·Ø© ÙˆÙ…Ù„ÙØ§Øª Static Ù„ÙŠØ³Øª Ø¶Ø®Ù…Ø©.",
            done: false
          },
          {
            id: "pf3",
            title: "Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Errors ÙÙŠ Ø§Ù„Ù€ Console",
            desc: "Ù…Ø±Ø§Ø¬Ø¹Ø© Ù…ØªØµÙØ­ Chrome DevTools / Console Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØµÙØ­.",
            done: false
          },
          {
            id: "pf4",
            title: "Ø«Ø¨Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø©",
            desc: "Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Crash Ø£Ùˆ ØªÙˆÙ‚Ù ÙƒØ§Ù…Ù„ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ¬Ø±Ø¨Ø©.",
            done: false
          }
        ]
      },
      // Report-specific settings (affect printed report)
      reportSettings: {
        includeAllChecklistItems: false,
        defaultExecutiveSummary: ""
      },
      guide: [
        {
          id: "g1",
          icon: "ğŸ“",
          title: "STLC â€“ Ø¯ÙˆØ±Ø© Ø­ÙŠØ§Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ§Øª",
          bullets: [
            "Requirement Analysis: ÙÙ‡Ù… Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙˆØªØ­Ø¯ÙŠØ¯ Ù…Ø§ ÙŠÙ…ÙƒÙ† ÙˆÙ…Ø§ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ø®ØªØ¨Ø§Ø±Ù‡.",
            "Test Planning: ØªØ­Ø¯ÙŠØ¯ Scope, Types of testing, Tools, ÙˆTimeline.",
            "Test Case Design: ÙƒØªØ§Ø¨Ø© Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª ÙˆØ§Ø¶Ø­Ø© Ù…Ø¹ Expected Result.",
            "Test Execution & Defect Logging: ØªÙ†ÙÙŠØ° Ø§Ù„ØªØ³ØªØ§Øª ÙˆØªÙˆØ«ÙŠÙ‚ Ø£ÙŠ Ø®Ù„Ù„.",
            "Closure & Lessons Learned: Ù…Ù„Ø®Øµ ØªØºØ·ÙŠØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ÙˆØ§Ù„Ø¯Ø±ÙˆØ³ Ø§Ù„Ù…Ø³ØªÙØ§Ø¯Ø©."
          ]
        },
        {
          id: "g2",
          icon: "ğŸ§ª",
          title: "Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©",
          bullets: [
            "Functional Testing: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ Ø­Ø³Ø¨ Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª.",
            "UI / UX Testing: ÙˆØ¶ÙˆØ­ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ÙˆØ³Ù‡ÙˆÙ„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØªÙ†Ø§Ø³Ù‚ Ø§Ù„Ø¹Ù†Ø§ØµØ±.",
            "Regression Testing: Ø§Ù„ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù… ØªÙƒØ³Ø± Ø´ÙŠØ¡ Ù‚Ø¯ÙŠÙ….",
            "Integration / API Testing: Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØªÙƒØ§Ù…Ù„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ù„Ù€ microservices.",
            "Non-Functional: Ø§Ù„Ø£Ø¯Ø§Ø¡ØŒ Ø§Ù„Ø£Ù…Ø§Ù†ØŒ Ù‚Ø§Ø¨Ù„ÙŠØ© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…ØŒ Ø§Ù„Ø§Ø³ØªÙ‚Ø±Ø§Ø±ÙŠØ©."
          ]
        },
        {
          id: "g3",
          icon: "ğŸ“Š",
          title: "Ø¹Ù‚Ù„ÙŠØ© Ø§Ù„Ù€ QA Ø§Ù„Ù…Ø­ØªØ±Ù",
          bullets: [
            "Ø§Ù„ØªÙÙƒÙŠØ± ÙƒØ³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙ„ÙŠØ³ ÙÙ‚Ø· ÙƒÙ†ØµÙˆØµ Requirements.",
            "Ø§Ù„Ù…ÙˆØ§Ø²Ù†Ø© Ø¨ÙŠÙ† Ø³Ø±Ø¹Ø© Ø§Ù„ØªØ³Ù„ÙŠÙ… ÙˆØ¬ÙˆØ¯Ø© Ø§Ù„Ù…Ø®Ø±Ø¬Ø§Øª.",
            "Ù…Ø¹Ø±ÙØ© Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„Ù€ DevØŒ Ø§Ù„Ù€ DBØŒ ÙˆØ§Ù„Ù€ Infrastructure ØªØ¹Ø·ÙŠÙƒ Ù‚ÙˆØ© ÙÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„.",
            "ÙƒØªØ§Ø¨Ø© ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ø¶Ø­Ø© ÙŠÙˆÙØ± ÙˆÙ‚Øª Ø§Ù„ÙØ±ÙŠÙ‚ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„."
          ]
        }
      ],
      bugTemplate: [
        {
          field: "Summary / Title",
          example: "Login â€“ error when using valid credentials",
          desc: "Ø¹Ù†ÙˆØ§Ù† Ù‚ØµÙŠØ± ÙŠØµÙ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø¨ÙˆØ¶ÙˆØ­."
        },
        {
          field: "Environment",
          example: "Staging â€“ https://stg.example.com",
          desc: "Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„Ø°ÙŠ Ø­Ø¯Ø« ÙÙŠÙ‡ Ø§Ù„Ù€ bug (Staging / UAT / Prod)."
        },
        {
          field: "Pre-conditions",
          example: "User already registered and activated",
          desc: "Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§ Ù‚Ø¨Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø®Ø·ÙˆØ§Øª."
        },
        {
          field: "Steps to Reproduce",
          example: "1) Go to login page 2) Enter valid email/password 3) Click Login",
          desc: "Ø®Ø·ÙˆØ§Øª Ù…ÙØµÙ„Ø© ÙŠÙ…ÙƒÙ† Ù„Ø£ÙŠ Ø´Ø®Øµ Ø§ØªØ¨Ø§Ø¹Ù‡Ø§ Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø´ÙƒÙ„Ø©."
        },
        {
          field: "Expected result",
          example: "User should be redirected to dashboard",
          desc: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹."
        },
        {
          field: "Actual result",
          example: "System shows 'Invalid credentials' error",
          desc: "Ù…Ø§ Ø§Ù„Ø°ÙŠ Ø­Ø¯Ø« ÙØ¹Ù„ÙŠÙ‹Ø§."
        },
        {
          field: "Attachments",
          example: "Screenshot, video, console log, network log",
          desc: "Ø£ÙŠ Ø´ÙŠØ¡ ÙŠØ³Ø§Ø¹Ø¯ Ø§Ù„ÙØ±ÙŠÙ‚ Ø¹Ù„Ù‰ ÙÙ‡Ù… Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø£Ø³Ø±Ø¹."
        }
      ],
      bugChecklist: [
        "Ù‡Ù„ Ø§Ù„Ø®Ø·ÙˆØ§Øª ÙˆØ§Ø¶Ø­Ø© ÙˆÙŠÙ…ÙƒÙ† Ù„Ø£ÙŠ Ø´Ø®Øµ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø´ÙƒÙ„Ø©ØŸ",
        "Ù‡Ù„ Ø£ÙˆØ¶Ø­Øª Ø§Ù„Ø¨ÙŠØ¦Ø© (Staging / Prod) ÙˆØ§Ù„Ù…ØªØµÙØ­ / Ø§Ù„Ø¬Ù‡Ø§Ø²ØŸ",
        "Ù‡Ù„ Ø£Ø±ÙÙ‚Øª Screenshot / Video Ø¥Ù† Ø£Ù…ÙƒÙ†ØŸ",
        "Ù‡Ù„ ÙØ±Ù‘Ù‚Øª Ø¨ÙŠÙ† Expected Ùˆ Actual Result Ø¨ÙˆØ¶ÙˆØ­ØŸ",
        "Ù‡Ù„ Ø­Ø¯Ù‘Ø¯Øª Severity Ù…Ù†Ø·Ù‚ÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ØªØ£Ø«ÙŠØ± Ø§Ù„Ù…Ø´ÙƒÙ„Ø©ØŸ",
        "Ù‡Ù„ Ø±Ø¨Ø·Øª Ø§Ù„Ù€ bug Ø¨Ù€ Module Ø£Ùˆ Feature ÙˆØ§Ø¶Ø­Ø©ØŸ"
      ],
      sevMatrix: [
        {
          sev: "Blocker",
          desc: "ÙŠÙ…Ù†Ø¹ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ø¸Ø§Ù… Ø£Ùˆ Ù…Ø³Ø§Ø± Ø±Ø¦ÙŠØ³ÙŠ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„.",
          priority: "P0 â€“ ÙŠÙØ¹Ø§Ù„ÙØ¬ ÙÙˆØ±Ù‹Ø§ Ù‚Ø¨Ù„ Ø£ÙŠ Ø´ÙŠØ¡ Ø¢Ø®Ø±."
        },
        {
          sev: "Critical",
          desc: "ÙŠØ¹Ø·Ù„ ÙˆØ¸ÙŠÙØ© Ù…Ù‡Ù…Ø©ØŒ Ù„ÙƒÙ† ÙŠÙˆØ¬Ø¯ Workaround Ù…Ø­Ø¯ÙˆØ¯.",
          priority: "P1 â€“ ÙŠÙØ¹Ø§Ù„ÙØ¬ Ø¨Ø£Ø³Ø±Ø¹ ÙˆÙ‚Øª Ù…Ù…ÙƒÙ†."
        },
        {
          sev: "Major",
          desc: "Ù…Ø´ÙƒÙ„Ø© Ù…Ø¤Ø«Ø±Ø© Ù„ÙƒÙ†Ù‡Ø§ Ù„Ø§ ØªÙˆÙ‚Ù Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„.",
          priority: "P2 â€“ ÙŠÙØ¬Ø¯ÙˆÙ„ ÙÙŠ Sprint Ù‚Ø±ÙŠØ¨."
        },
        {
          sev: "Minor",
          desc: "Ù…Ø´Ø§ÙƒÙ„ Ø´ÙƒÙ„ÙŠØ© Ø£Ùˆ Ø¨Ø³ÙŠØ·Ø© Ù„Ø§ ØªØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…Ù„.",
          priority: "P3 â€“ ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ø§Ø­Ù‚Ø© / UI polish."
        }
      ],
      bugLife: [
        { status: "New", desc: "ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù€ bug Ø­Ø¯ÙŠØ«Ù‹Ø§ ÙˆÙ„Ù… ÙŠØªÙ… Ù…Ø±Ø§Ø¬Ø¹ØªÙ‡ Ø¨Ø¹Ø¯." },
        { status: "Triaged", desc: "ØªÙ… ØªÙ‚ÙŠÙŠÙ…Ù‡ ÙˆØªØ­Ø¯ÙŠØ¯ Severity / Priority ÙˆAssigned To." },
        { status: "In Progress", desc: "Ø§Ù„Ù…Ø·ÙˆØ± ÙŠØ¹Ù…Ù„ Ø­Ø§Ù„ÙŠÙ‹Ø§ Ø¹Ù„Ù‰ Ø¥ØµÙ„Ø§Ø­Ù‡." },
        { status: "Ready for Test", desc: "ØªÙ… Ø§Ù„Ø¥ØµÙ„Ø§Ø­ ÙˆÙŠÙ†ØªØ¸Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ù…Ù† QA." },
        { status: "Verified / Closed", desc: "ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥ØµÙ„Ø§Ø­ ÙˆÙ„Ù… ØªØ¹Ø¯ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© ØªØ¸Ù‡Ø±." },
        { status: "Rejected / Won't Fix", desc: "Ù„Ù† ÙŠØªÙ… Ø§Ù„Ø¥ØµÙ„Ø§Ø­ (Ø³Ù„ÙˆÙƒ Ù…Ù‚Ø¨ÙˆÙ„ Ø£Ùˆ Ø®Ø§Ø±Ø¬ Ø§Ù„Ù€ Scope)." }
      ],
      proTips: [
        "Ø§Ø³ØªØ®Ø¯Ù… Ù„ØºØ© Ù‡Ø§Ø¯Ø¦Ø© ÙˆÙ…ÙˆØ¶ÙˆØ¹ÙŠØ© ÙÙŠ ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù€ bugs (Ø¨Ø¯ÙˆÙ† Ø§ØªÙ‡Ø§Ù… Ø£Ùˆ Ù„ÙˆÙ…).",
        "Ø¶Ù…Ù‘Ù† Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ø¶Ø­Ø© ÙÙŠ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù€ bug: Module â€“ Short description.",
        "Ø§Ø±Ø¨Ø· Ø§Ù„Ù€ bug Ø¨Ù…ØªØ·Ù„Ø¨ Ø£Ùˆ User Story Ø¥Ù† ÙˆØ¬Ø¯.",
        "ÙƒÙ„Ù…Ø§ ÙƒØ§Ù† Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø£ÙˆØ¶Ø­ØŒ ÙƒØ§Ù† Ø§Ù„ÙˆÙ‚Øª Ø£Ù‚Ù„ ÙÙŠ Ø§Ù„Ù†Ù‚Ø§Ø´Ø§Øª ÙˆØ§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹Ø§Øª."
      ],
      // ğŸ”¹ Bugs Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù„Ù‡Ø°Ø§ Ø§Ù„ØªØ³Øª Ø³Ø§ÙŠÙƒÙ„
      bugs: []
    };

    const STORAGE_KEY = "qa_report_v2_state";
    const THEME_KEY = "qa_report_theme";

    function deepClone(obj) {
      return JSON.parse(JSON.stringify(obj));
    }

    function loadState() {
      try {
        const stored = localStorage.getItem(STORAGE_KEY);
        if (!stored) return deepClone(DEFAULT_STATE);
        const parsed = JSON.parse(stored);
        return {
          ...deepClone(DEFAULT_STATE),
          ...parsed,
          meta: { ...deepClone(DEFAULT_STATE.meta), ...(parsed.meta || {}) },
            checklists: {
              ...deepClone(DEFAULT_STATE.checklists),
              ...(parsed.checklists || {})
            },
            settings: { ...deepClone(DEFAULT_STATE.settings), ...(parsed.settings || {}) }
        };
      } catch {
        return deepClone(DEFAULT_STATE);
      }
    }

    function saveState() {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
    }

    let state = loadState();

    function renderChecklistTabs() {
      const container = document.getElementById("checklistTabs");
      if (!container) return;
      // preserve currently active tab if any
      const prevActive = document.querySelector(".pill-tab.active");
      const prevKey = prevActive ? prevActive.dataset.key : null;
      container.innerHTML = "";
      const iconsMap = {
        website: '<svg class="icon" aria-hidden="true"><use href="#icon-overview"></use></svg>',
        platform: '<svg class="icon" aria-hidden="true"><use href="#icon-checklist"></use></svg>',
        ecom: '<svg class="icon" aria-hidden="true"><use href="#icon-folder"></use></svg>',
        mobile: '<svg class="icon" aria-hidden="true"><use href="#icon-lab"></use></svg>',
        api: '<svg class="icon" aria-hidden="true"><use href="#icon-chart"></use></svg>',
        perf: '<svg class="icon" aria-hidden="true"><use href="#icon-chart"></use></svg>'
      };

      const keys = Object.keys(state.checklists || {});
      keys.forEach((k, idx) => {
        const list = state.checklists[k] || [];
        const doneCount = list.filter(i => i.done).length;
        const btn = document.createElement("button");
        btn.type = "button";
        const makeActive = prevKey ? (k === prevKey) : (idx === 0);
        btn.className = "pill-tab" + (makeActive ? " active" : "");
        btn.dataset.key = k;
        const labelMap = (state.settings && state.settings.checklistLabels) || {};
        const label = labelMap[k] || k;
        const icon = iconsMap[k] || 'ğŸ“';
        btn.innerHTML = `
          <span class="icon">${icon}</span>
          <span>${label}</span>
          <span class="count">${doneCount}/${list.length}</span>
        `;
        btn.addEventListener("click", () => {
          document
            .querySelectorAll(".pill-tab")
            .forEach(b => b.classList.remove("active"));
          btn.classList.add("active");
          renderChecklist(k);
        });
        container.appendChild(btn);
      });

      // render the tab that is active (either preserved one or first)
      const activeBtn = container.querySelector('.pill-tab.active');
      const keyToRender = activeBtn ? activeBtn.dataset.key : (sections[0] && sections[0].key);
      if (keyToRender) renderChecklist(keyToRender);
    }

    function renderChecklist(key) {
      const container = document.getElementById("checklistContainer");
      if (!container) return;
      const list = state.checklists[key] || [];
      container.innerHTML = "";
      // enable drag & drop reordering
      container.dataset.activeKey = key;
      list.forEach((item, idx) => {
        const div = document.createElement("div");
        div.className = "check-item" + (item.done ? " done" : "");
        div.draggable = true;
        div.dataset.idx = idx;
        div.addEventListener('dragstart', (e)=>{ e.dataTransfer.setData('text/plain', idx); div.classList.add('dragging'); });
        div.addEventListener('dragend', ()=>{ div.classList.remove('dragging'); });
        div.addEventListener('dragover', (e)=>{ e.preventDefault(); const dragging = document.querySelector('.dragging'); if(!dragging) return; const over = e.currentTarget; const rect = over.getBoundingClientRect(); const after = (e.clientY - rect.top) > rect.height/2; if(after) over.parentNode.insertBefore(dragging, over.nextSibling); else over.parentNode.insertBefore(dragging, over); });
        div.addEventListener('drop', (e)=>{ e.preventDefault(); const from = parseInt(e.dataTransfer.getData('text/plain'),10); const to = Array.from(container.children).indexOf(div); if(isNaN(from) || to<0) return; const arr = state.checklists[key]; const [moved] = arr.splice(from,1); arr.splice(to,0,moved); saveState(); renderChecklist(key); renderChecklistTabs(); updateChecklistStats(); });
        div.innerHTML = `
          <input type="checkbox" ${item.done ? "checked" : ""} />
          <div class="check-item-main">
            <div class="check-item-title">${item.title}</div>
            <div class="check-item-desc">${item.desc}</div>
            <div class="check-item-tags">
              <span class="tag medium">Area: ${key}</span>
            </div>
          </div>
          <div style="display:flex;gap:0.3rem;margin-inline-start:0.5rem;">
            <button type="button" class="btn btn-outline" style="padding:0.2rem 0.4rem;font-size:0.7rem;" onclick="editChecklistItem('${key}', ${idx})">âœ</button>
            <button type="button" class="btn btn-outline" style="padding:0.2rem 0.4rem;font-size:0.7rem;" onclick="deleteChecklistItem('${key}', ${idx})">âœ•</button>
          </div>
        `;
        const checkbox = div.querySelector("input");
        checkbox.addEventListener("change", () => {
          item.done = checkbox.checked;
          if (item.done) {
            div.classList.add("done");
          } else {
            div.classList.remove("done");
          }
          saveState();
          updateChecklistStats();
          renderChecklistTabs();
        });
        container.appendChild(div);
      });
    }

    function editChecklistItem(key, idx) {
      const list = state.checklists[key] || [];
      const item = list[idx];
      if (!item) return;

      const newTitle = prompt("Item title:", item.title || "");
      if (newTitle === null) return;

      const newDesc = prompt("Item description:", item.desc || "");
      if (newDesc === null) return;

      item.title = newTitle.trim();
      item.desc = newDesc.trim();
      saveState();
      renderChecklist(key);
      renderChecklistTabs();
    }

    function deleteChecklistItem(key, idx) {
      if (!confirm("Delete this checklist item?")) return;
      const list = state.checklists[key] || [];
      list.splice(idx, 1);
      saveState();
      renderChecklist(key);
      renderChecklistTabs();
      updateChecklistStats();
    }

    function addChecklistItem() {
      const activeTab = document.querySelector(".pill-tab.active");
      if (!activeTab) {
        alert("Please select a category first.");
        return;
      }
      const key = activeTab.dataset.key;
      const title = prompt("New item title:");
      if (title === null) return;

      const desc = prompt("Item description:");
      if (desc === null) return;

      const list = state.checklists[key] || [];
      const id = key.substring(0, 1).toLowerCase() + Math.floor(Math.random() * 1000);
      list.push({
        id,
        title: title.trim(),
        desc: desc.trim(),
        done: false
      });
      saveState();
      renderChecklist(key);
      renderChecklistTabs();
      updateChecklistStats();
    }

    function openBulkImport() {
      const activeTab = document.querySelector('.pill-tab.active');
      if (!activeTab) { alert('Select a category first'); return; }
      const key = activeTab.dataset.key;
      const payload = prompt('Paste items to import, one per line. Use "Title|Description" per line.');
      if (payload === null) return;
      const lines = payload.split(/\r?\n/).map(l=>l.trim()).filter(Boolean);
      if (!lines.length) return;
      const list = state.checklists[key] || [];
      lines.forEach(l=>{
        const parts = l.split('|');
        list.push({ id: key + Math.floor(Math.random()*10000), title: (parts[0]||'').trim(), desc: (parts[1]||'').trim(), done:false });
      });
      state.checklists[key] = list;
      saveState();
      renderChecklist(key);
      renderChecklistTabs();
      updateChecklistStats();
    }

    function toggleShowOrderHelp() {
      alert('To reorder items: drag an item up or down within the list. Changes are saved automatically.');
    }

    function updateChecklistStats() {
      const allLists = Object.values(state.checklists);
      const total = allLists.reduce((acc, list) => acc + list.length, 0);
      const done = allLists.reduce(
        (acc, list) => acc + list.filter(i => i.done).length,
        0
      );
      const percent = total ? Math.round((done / total) * 100) : 0;

      const progressBar = document.getElementById("progressBar");
      const coverageLabel = document.getElementById("coverageLabel");
      const completedCount = document.getElementById("completedCount");
      const overallProgress = document.getElementById("overallProgress");
      const coverageChips = document.getElementById("coverageChips");
      const coverageNotes = document.getElementById("coverageNotes");

      if (progressBar) progressBar.style.width = percent + "%";
      if (coverageLabel) coverageLabel.textContent = percent + "%";
      if (overallProgress) overallProgress.textContent = percent + "%";
      if (completedCount) completedCount.textContent = done;

      const activeAreas = [];
      Object.entries(state.checklists).forEach(([key, list]) => {
        if (list.some(i => i.done)) activeAreas.push(key);
      });

      if (coverageChips) {
        coverageChips.innerHTML = "";
        activeAreas.forEach(area => {
          const chip = document.createElement("div");
          chip.className = "chip";
          chip.innerHTML = `
            <span class="dot"></span>
            <span>${area}</span>
          `;
          coverageChips.appendChild(chip);
        });
      }

      if (coverageNotes) {
        if (!activeAreas.length) {
          coverageNotes.innerHTML =
            "Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø£ÙŠ Ø¹Ù†Ø§ØµØ± Ø¨Ø¹Ø¯. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¨Ø¯Ø¡ Ø¨ØªØ¹Ù„ÙŠÙ… Ù…Ø§ ØªÙ… Ø§Ø®ØªØ¨Ø§Ø±Ù‡ Ù…Ù† Website Ø£Ùˆ Admin Ø£Ùˆ Mobile...";
        } else {
          coverageNotes.innerHTML =
            "ØªÙ… ØªØºØ·ÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„ØªØ§Ù„ÙŠØ© ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù€ Test Cycle: " +
            activeAreas.join("ØŒ ") +
            ". ÙŠÙ…ÙƒÙ†Ùƒ ØªÙˆØ³ÙŠØ¹ Ø§Ù„ØªØºØ·ÙŠØ© ÙÙŠ Ø¯ÙˆØ±Ø§Øª Ù„Ø§Ø­Ù‚Ø© Ø«Ù… ØªÙˆÙ„ÙŠØ¯ ØªÙ‚Ø±ÙŠØ± Ø¬Ø¯ÙŠØ¯.";
        }
      }
    }

    function renderBugTables() {
      const bugTemplateBody = document.getElementById("bugTemplate");
      const bugChecklistBody = document.getElementById("bugChecklist");
      const sevMatrixBody = document.getElementById("sevMatrix");
      const bugLifeBody = document.getElementById("bugLife");
      const proTipsBody = document.getElementById("proTips");
      const bugTemplateEditor = document.getElementById('bugTemplateEditor');
      const bugChecklistEditor = document.getElementById('bugChecklistEditor');
      const exportBugsBtn = document.getElementById('exportBugsBtn');

      if (bugTemplateBody) {
        bugTemplateBody.innerHTML = "";
        state.bugTemplate.forEach(row => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
            <td>${row.field}</td>
            <td>${row.example}</td>
            <td>${row.desc}</td>
          `;
          bugTemplateBody.appendChild(tr);
        });
      }

      if (bugTemplateEditor) {
        bugTemplateEditor.value = (state.bugTemplate || []).map(r => `${r.field}|${r.example}|${r.desc}`).join('\n');
      }

      if (bugChecklistBody) {
        bugChecklistBody.innerHTML = "";
        state.bugChecklist.forEach((item, idx) => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
            <td>${idx + 1}</td>
            <td>${item}</td>
          `;
          bugChecklistBody.appendChild(tr);
        });
      }

      if (bugChecklistEditor) {
        bugChecklistEditor.value = (state.bugChecklist || []).join('\n');
      }

      if (sevMatrixBody) {
        sevMatrixBody.innerHTML = "";
        state.sevMatrix.forEach((row, idx) => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
            <td>${escapeHtml(row.sev)}</td>
            <td>${escapeHtml(row.priority)}</td>
            <td>${escapeHtml(row.sla || '')}</td>
            <td>${escapeHtml(row.desc || '')}</td>
          `;
          const del = document.createElement('td');
          const btn = document.createElement('button');
          btn.className = 'btn btn-outline'; btn.style.padding='0.15rem 0.45rem'; btn.textContent='Delete';
          btn.addEventListener('click', ()=>{ if(confirm('Delete severity entry?')){ state.sevMatrix.splice(idx,1); saveState(); renderBugTables(); } });
          del.appendChild(btn);
          tr.appendChild(del);
          sevMatrixBody.appendChild(tr);
        });
      }

      if (bugLifeBody) {
        bugLifeBody.innerHTML = "";
        state.bugLife.forEach(row => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
            <td>${row.status}</td>
            <td>${row.desc}</td>
          `;
          bugLifeBody.appendChild(tr);
        });
      }

      // hook apply/save buttons for editors
      window.applyBugTemplateEditor = function() {
        const el = document.getElementById('bugTemplateEditor');
        if (!el) return;
        const lines = el.value.split(/\r?\n/).map(l=>l.trim()).filter(Boolean);
        const parsed = lines.map(l => {
          const parts = l.split('|');
          return { field: (parts[0]||'').trim(), example: (parts[1]||'').trim(), desc: (parts[2]||'').trim() };
        }).filter(r => r.field);
        if (!parsed.length) { if(!confirm('Template seems empty. Clear existing template?')) return; }
        state.bugTemplate = parsed;
        saveState();
        renderBugTables();
      };

      window.resetBugTemplateToDefault = function() {
        if (!confirm('Reset bug template to defaults?')) return;
        state.bugTemplate = deepClone(DEFAULT_STATE.bugTemplate || []);
        saveState();
        renderBugTables();
      };

      window.applyBugChecklistEditor = function() {
        const el = document.getElementById('bugChecklistEditor');
        if (!el) return;
        const lines = el.value.split(/\r?\n/).map(l=>l.trim()).filter(Boolean);
        state.bugChecklist = lines;
        saveState();
        renderBugTables();
      };

      window.addSeverityEntry = function() {
        const name = (document.getElementById('newSevName')?.value||'').trim();
        const pri = (document.getElementById('newSevPriority')?.value||'').trim();
        const sla = (document.getElementById('newSevSla')?.value||'').trim();
        if (!name) { alert('Enter severity name'); return; }
        state.sevMatrix = state.sevMatrix || [];
        state.sevMatrix.push({sev:name, priority: pri || '', sla: sla || '', desc: ''});
        saveState();
        renderBugTables();
        document.getElementById('newSevName').value=''; document.getElementById('newSevPriority').value=''; document.getElementById('newSevSla').value='';
      };

      if (proTipsBody) {
        proTipsBody.innerHTML = "";
        state.proTips.forEach((tip, idx) => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
            <td>${idx + 1}</td>
            <td>${tip}</td>
          `;
          proTipsBody.appendChild(tr);
        });
      }

      if (exportBugsBtn) {
        exportBugsBtn.addEventListener('click', () => {
          const rows = state.bugs || [];
          if (!rows.length) { alert('No bugs to export.'); return; }
          const header = ['ID','Area','Severity','Priority','Status','Title','Notes'];
          const csv = [header.join(',')].concat(rows.map(b => [b.id||'', b.area||'', b.severity||'', b.priority||'', b.status||'', '"'+(String(b.title||'').replace(/"/g,'""'))+'"', '"'+(String(b.notes||'').replace(/"/g,'""'))+'"'].join(','))).join('\n');
          const blob = new Blob([csv], {type:'text/csv;charset=utf-8;'});
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url; a.download = 'bugs-export.csv'; a.style.display='none';
          document.body.appendChild(a); a.click(); setTimeout(()=>{ document.body.removeChild(a); URL.revokeObjectURL(url); }, 500);
        });
      }
    }

    function renderGuides() {
      const container = document.getElementById('overviewGuides');
      if (!container) return;
      container.innerHTML = '';
      const list = state.guide || [];
      const guideIconMap = {
        'ğŸ“': '#icon-overview',
        'ğŸ§ª': '#icon-lab',
        'ğŸ“Š': '#icon-chart'
      };
      list.forEach((g, idx) => {
        const card = document.createElement('div');
        card.className = 'card';
        card.style.marginBottom = '0.5rem';
        const header = document.createElement('div');
        header.className = 'card-header';
        const iconHtml = (guideIconMap[g.icon] ? `<svg class="icon" aria-hidden="true"><use href="${guideIconMap[g.icon]}"></use></svg>` : (g.icon || ''));
        header.innerHTML = `<h3 style="margin:0;font-size:0.9rem;">${iconHtml} ${escapeHtml(g.title)}</h3>`;
        const body = document.createElement('div');
        body.style.padding = '0.6rem 0';
        const ul = document.createElement('ul');
        ul.style.margin = '0.5rem 0 0'; ul.style.paddingLeft='1.1rem'; ul.style.fontSize='0.75rem'; ul.style.lineHeight='1.5';
        (g.bullets||[]).forEach(b => { const li = document.createElement('li'); li.textContent = b; ul.appendChild(li); });
        body.appendChild(ul);
        card.appendChild(header);
        card.appendChild(body);
        container.appendChild(card);
      });
    }

    function renderRealBugs() {
      const tbody = document.getElementById("bugsTableBody");
      if (!tbody) return;

      const list = state.bugs || [];
      tbody.innerHTML = "";

      if (!list.length) {
        const tr = document.createElement("tr");
        tr.innerHTML =
          '<td colspan="8" style="text-align:center;color:#6b7280;font-size:0.78rem;">No bugs recorded yet for this cycle.</td>';
        tbody.appendChild(tr);
        return;
      }

      list.forEach((bug, index) => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${escapeHtml(bug.id || ("BUG-" + (index + 1).toString().padStart(3, "0")))}</td>
          <td>${escapeHtml(bug.area || "")}</td>
          <td>${escapeHtml(bug.severity || "")}</td>
          <td>${escapeHtml(bug.priority || "")}</td>
          <td>${escapeHtml(bug.status || "")}</td>
          <td>${escapeHtml(bug.title || "")}</td>
          <td>${escapeHtml(bug.notes || "")}</td>
          <td>
            <button type="button"
              class="btn btn-outline"
              style="padding:0.2rem 0.55rem;font-size:0.7rem;margin-inline:0.1rem;"
              onclick="editBug(${index})">Edit</button>
            <button type="button"
              class="btn btn-outline"
              style="padding:0.2rem 0.55rem;font-size:0.7rem;margin-inline:0.1rem;"
              onclick="deleteBug(${index})">âœ•</button>
          </td>
        `;
        tbody.appendChild(tr);
      });
    }

    /* Settings (UI-only) helpers */
    function applySettingsToUI() {
      const s = state.settings || {};
      const titleEl = document.querySelector('.logo-text .title');
      const subEl = document.querySelector('.logo-text .subtitle');
      if (titleEl) titleEl.textContent = s.uiTitle || 'QA CONTROL PANEL';
      if (subEl) subEl.textContent = s.uiSubtitle || 'Ù…Ù†ØµØ© Ù„Ø¥Ø¯Ø§Ø±Ø© ÙØ­ÙˆØµØ§Øª Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ¥ØµØ¯Ø§Ø± ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ø­ØªØ±Ø§ÙÙŠØ©';
      // ensure tabs re-render with updated labels
      renderChecklistTabs();
    }

    function renderSettingsCategories() {
      const container = document.getElementById('settingsCategories');
      if (!container) return;
      container.innerHTML = '';
      const labels = (state.settings && state.settings.checklistLabels) || {};
      Object.keys(state.checklists || {}).forEach(key => {
        const row = document.createElement('div');
        row.style.display = 'flex';
        row.style.gap = '0.5rem';
        row.style.alignItems = 'center';
        row.style.marginBottom = '0.45rem';

        const keyBox = document.createElement('div');
        keyBox.textContent = key;
        keyBox.style.minWidth = '90px';
        keyBox.style.opacity = '0.85';

        const input = document.createElement('input');
        input.type = 'text';
        input.value = labels[key] || key;
        input.style.flex = '1';
        input.style.padding = '0.45rem';
        input.style.borderRadius = '8px';
        input.style.border = '1px solid var(--border)';
        input.addEventListener('change', () => {
          state.settings = state.settings || {};
          state.settings.checklistLabels = state.settings.checklistLabels || {};
          state.settings.checklistLabels[key] = input.value.trim() || key;
          saveState();
          renderChecklistTabs();
        });

        const delBtn = document.createElement('button');
        delBtn.className = 'btn btn-outline';
        delBtn.style.padding = '0.28rem 0.45rem';
        delBtn.style.fontSize = '0.75rem';
        delBtn.textContent = 'Delete';
        const renameBtn = document.createElement('button');
        renameBtn.className = 'btn btn-outline'; renameBtn.style.padding='0.28rem 0.45rem'; renameBtn.style.fontSize='0.75rem'; renameBtn.textContent='Rename Key';
        renameBtn.addEventListener('click', ()=>{
          const newKey = prompt('Enter new key for category (no spaces):', key);
          if (!newKey) return;
          if (newKey === key) return;
          if (state.checklists[newKey]) { alert('Key already exists.'); return; }
          // move items
          state.checklists[newKey] = state.checklists[key] || [];
          delete state.checklists[key];
          // move label if existed
          if (state.settings && state.settings.checklistLabels) {
            state.settings.checklistLabels[newKey] = state.settings.checklistLabels[key] || key;
            delete state.settings.checklistLabels[key];
          }
          saveState();
          renderSettingsCategories();
          renderChecklistTabs();
        });
        delBtn.addEventListener('click', () => {
          const list = state.checklists[key] || [];
          if (list.length) {
            alert('Cannot delete a category that still has items. Move or remove items first.');
            return;
          }
          if (!confirm('Delete category "' + key + '"?')) return;
          delete state.checklists[key];
          if (state.settings && state.settings.checklistLabels) delete state.settings.checklistLabels[key];
          saveState();
          renderSettingsCategories();
          renderChecklistTabs();
        });

        row.appendChild(keyBox);
        row.appendChild(input);
        row.appendChild(renameBtn);
        row.appendChild(delBtn);
        container.appendChild(row);
      });
    }

    // Overview guides editor in Settings
    function renderGuideSettings() {
      const container = document.getElementById('guideSettings');
      if (!container) return;
      container.innerHTML = '';
      (state.guide || []).forEach((g, idx) => {
        const box = document.createElement('div'); box.style.display='flex'; box.style.flexDirection='column'; box.style.gap='0.35rem'; box.style.borderBottom='1px dashed var(--border)'; box.style.padding='0.45rem 0';
        const title = document.createElement('input'); title.value = g.title || ''; title.style.padding='0.4rem'; title.addEventListener('change', ()=>{ state.guide[idx].title = title.value; saveState(); renderGuides(); });
        const icon = document.createElement('input'); icon.value = g.icon || ''; icon.style.padding='0.4rem'; icon.placeholder='icon e.g. ğŸ“'; icon.addEventListener('change', ()=>{ state.guide[idx].icon = icon.value; saveState(); renderGuides(); });
        const bullets = document.createElement('textarea'); bullets.value = (g.bullets||[]).join('\n'); bullets.style.minHeight='80px'; bullets.addEventListener('change', ()=>{ state.guide[idx].bullets = bullets.value.split(/\r?\n/).map(s=>s.trim()).filter(Boolean); saveState(); renderGuides(); });
        const actions = document.createElement('div'); actions.style.display='flex'; actions.style.gap='0.4rem'; actions.style.justifyContent='flex-end';
        const del = document.createElement('button'); del.className='btn btn-outline'; del.textContent='Delete'; del.addEventListener('click', ()=>{ if(!confirm('Delete guide card?')) return; state.guide.splice(idx,1); saveState(); renderGuideSettings(); renderGuides(); });
        const up = document.createElement('button'); up.className='btn btn-outline'; up.textContent='â†‘'; up.addEventListener('click', ()=>{ if(idx===0) return; const a = state.guide[idx-1]; state.guide[idx-1]=state.guide[idx]; state.guide[idx]=a; saveState(); renderGuideSettings(); renderGuides(); });
        const down = document.createElement('button'); down.className='btn btn-outline'; down.textContent='â†“'; down.addEventListener('click', ()=>{ if(idx===state.guide.length-1) return; const a = state.guide[idx+1]; state.guide[idx+1]=state.guide[idx]; state.guide[idx]=a; saveState(); renderGuideSettings(); renderGuides(); });
        actions.appendChild(up); actions.appendChild(down); actions.appendChild(del);
        box.appendChild(icon); box.appendChild(title); box.appendChild(bullets); box.appendChild(actions);
        container.appendChild(box);
      });
      const addBtn = document.createElement('button'); addBtn.className='btn btn-primary'; addBtn.textContent='â• Add Guide Card'; addBtn.addEventListener('click', ()=>{ state.guide = state.guide || []; state.guide.push({id:'g'+Date.now(), icon:'ğŸ“Œ', title:'New Card', bullets:['New bullet']}); saveState(); renderGuideSettings(); renderGuides(); });
      container.appendChild(addBtn);
    }

    function addCategoryFromInputs() {
      const keyEl = document.getElementById('newCatKey');
      const labelEl = document.getElementById('newCatLabel');
      if (!keyEl || !labelEl) return;
      const key = (keyEl.value || '').trim();
      const label = (labelEl.value || '').trim() || key;
      if (!key) {
        alert('Please enter a key for the category. Use simple letters/numbers (no spaces).');
        return;
      }
      if (state.checklists && state.checklists[key]) {
        alert('Category key already exists. Choose a different key.');
        return;
      }
      state.checklists = state.checklists || {};
      state.checklists[key] = [];
      state.settings = state.settings || {};
      state.settings.checklistLabels = state.settings.checklistLabels || {};
      state.settings.checklistLabels[key] = label;
      saveState();
      keyEl.value = '';
      labelEl.value = '';
      renderSettingsCategories();
      renderChecklistTabs();
    }

    function addBug() {
      const areaEl = document.getElementById("bugArea");
      const sevEl = document.getElementById("bugSeverity");
      const prioEl = document.getElementById("bugPriority");
      const statusEl = document.getElementById("bugStatus");
      const titleEl = document.getElementById("bugTitle");
      const notesEl = document.getElementById("bugNotes");

      const area = (areaEl?.value || "").trim();
      const severity = (sevEl?.value || "").trim();
      const priority = (prioEl?.value || "").trim();
      const status = (statusEl?.value || "").trim() || "Open";
      const title = (titleEl?.value || "").trim();
      const notes = (notesEl?.value || "").trim();

      if (!title) {
        alert("Please enter at least a short title for the bug.");
        return;
      }

      if (!state.bugs) state.bugs = [];
      const nextIndex = state.bugs.length + 1;
      const id = "BUG-" + nextIndex.toString().padStart(3, "0");

      state.bugs.push({
        id,
        area,
        severity,
        priority,
        status,
        title,
        notes
      });

      saveState();
      renderRealBugs();

      if (titleEl) titleEl.value = "";
      if (notesEl) notesEl.value = "";
    }

    function editBug(idx) {
      if (!state.bugs || !state.bugs[idx]) return;
      const bug = state.bugs[idx];

      const title = prompt("Bug title:", bug.title || "");
      if (title === null) return;

      const area = prompt("Area / screen:", bug.area || "");
      if (area === null) return;

      const severity = prompt("Severity (Critical/Major/Minor):", bug.severity || "");
      if (severity === null) return;

      const priority = prompt("Priority (P1/P2/P3):", bug.priority || "");
      if (priority === null) return;

      const status = prompt("Status (Open/In Progress/Closed):", bug.status || "");
      if (status === null) return;

      const notes = prompt("Notes / suggested fix:", bug.notes || "");
      if (notes === null) return;

      Object.assign(bug, {
        title: title.trim(),
        area: area.trim(),
        severity: severity.trim(),
        priority: priority.trim(),
        status: status.trim(),
        notes: notes.trim()
      });

      saveState();
      renderRealBugs();
    }

    function deleteBug(idx) {
      if (!state.bugs || !state.bugs[idx]) return;
      if (!confirm("Delete this bug?")) return;
      state.bugs.splice(idx, 1);
      saveState();
      renderRealBugs();
    }

    function updateMetaFromFields() {
      const m = state.meta;
      const fieldMap = [
        ["projectName", "projectName"],
        ["clientName", "clientName"],
        ["reportAuthor", "reportAuthor"],
        ["projectCode", "projectCode"],
        ["scope", "scope"],
        ["env", "env"],
        ["build", "build"],
        ["testDate", "testDate"],
        ["browsers", "browsers"],
        ["summaryNotes", "summaryNotes"]
      ];

      fieldMap.forEach(([key, id]) => {
        const el = document.getElementById(id);
        if (el) m[key] = el.value;
      });

      const fieldMap2 = [
        ["projectName", "projectName2"],
        ["clientName", "clientName2"],
        ["reportAuthor", "reportAuthor"],
        ["projectCode", "projectCode"],
        ["scope", "scope"],
        ["env", "env2"],
        ["build", "build2"],
        ["testDate", "testDate2"],
        ["browsers", "browsers2"],
        ["summaryNotesEn", "summaryNotes2"]
      ];
      fieldMap2.forEach(([key, id]) => {
        const el = document.getElementById(id);
        if (el && el.value) {
          if (key === "summaryNotesEn") {
            m.summaryNotesEn = el.value;
          } else {
            m[key] = el.value;
          }
        }
      });

      saveState();
      updateExecSummaryPreview();
    }

    function applyMetaToFields() {
      const m = state.meta;
      const fieldMap = [
        ["projectName", "projectName"],
        ["clientName", "clientName"],
        ["reportAuthor", "reportAuthor"],
        ["projectCode", "projectCode"],
        ["scope", "scope"],
        ["env", "env"],
        ["build", "build"],
        ["testDate", "testDate"],
        ["browsers", "browsers"],
        ["summaryNotes", "summaryNotes"],
        ["projectName", "projectName2"],
        ["clientName", "clientName2"],
        ["reportAuthor", "reportAuthor"],
        ["projectCode", "projectCode"],
        ["scope", "scope"],
        ["env", "env2"],
        ["build", "build2"],
        ["testDate", "testDate2"],
        ["browsers", "browsers2"]
      ];

      fieldMap.forEach(([key, id]) => {
        const el = document.getElementById(id);
        if (el) {
          el.value = m[key] || "";
        }
      });

      const el2 = document.getElementById("summaryNotes2");
      if (el2) el2.value = m.summaryNotesEn || "";
      const ra = document.getElementById('reportAuthor'); if (ra) ra.value = m.reportAuthor || '';
      const pc = document.getElementById('projectCode'); if (pc) pc.value = m.projectCode || '';
      const sc = document.getElementById('scope'); if (sc) sc.value = m.scope || '';

      // apply reportSettings
      const def = document.getElementById('defaultExecSummary'); if (def) def.value = (state.reportSettings && state.reportSettings.defaultExecutiveSummary) || '';
      const inc = document.getElementById('includeAllChecklistItems'); if (inc) inc.checked = !!(state.reportSettings && state.reportSettings.includeAllChecklistItems);
    }

    function updateExecSummaryPreview() {
      const preview = document.getElementById("execSummaryPreview");
      const previewEn = document.getElementById("execSummaryPreviewEn");
      const m = state.meta;
      const total = Object.values(state.checklists).reduce(
        (acc, list) => acc + list.length,
        0
      );
      const done = Object.values(state.checklists).reduce(
        (acc, list) => acc + list.filter(i => i.done).length,
        0
      );
      const percent = total ? Math.round((done / total) * 100) : 0;

      if (preview) {
        preview.innerHTML =
          "<strong>Ù…Ù„Ø®Øµ Ù…ØªÙˆÙ‚Ø¹:</strong> Ø³ÙŠØªÙ… Ø°ÙƒØ± Ø£Ù† Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ " +
          (m.projectName || "Current Project") +
          " ØªÙ… Ø§Ø®ØªØ¨Ø§Ø±Ù‡ Ø¹Ù„Ù‰ Ø¨ÙŠØ¦Ø© " +
          (m.env || "Staging") +
          " Ø¨ØªØ§Ø±ÙŠØ® " +
          (m.testDate || "â€”") +
          " Ù…Ø¹ ØªØºØ·ÙŠØ© ØªÙ‚Ø±ÙŠØ¨ÙŠØ© " +
          percent +
          "% Ù…Ù† Ø§Ù„Ù€ Checklists Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©ØŒ ÙˆØ§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„ØªÙŠ ØªÙ… ØªØ¹Ù„ÙŠÙ…Ù‡Ø§.";
      }

      if (previewEn) {
        const summary =
          m.summaryNotesEn ||
          `Main user journeys for ${
            m.projectName || "the current project"
          } were validated on ${
            m.env || "Staging"
          } environment. Around ${percent}% of the defined QA checklist items were executed in this cycle.`;
        previewEn.innerHTML =
          "<strong>Preview:</strong> " + summary.replace(/\n/g, "<br>");
      }
    }

    function clearAllChecks() {
      Object.values(state.checklists).forEach(list => {
        list.forEach(i => (i.done = false));
      });
      saveState();
      renderChecklistTabs();
      updateChecklistStats();
    }

    function switchSection(sectionId) {
      document
        .querySelectorAll(".section")
        .forEach(sec => sec.classList.remove("section-active"));
      const target = document.getElementById(sectionId);
      if (target) target.classList.add("section-active");

      document
        .querySelectorAll(".nav-btn")
        .forEach(btn => btn.classList.remove("active"));
      const btn = document.querySelector(
        `.nav-btn[data-section="${sectionId}"]`
      );
      if (btn) btn.classList.add("active");
    }

    function loadTheme() {
      const stored = localStorage.getItem(THEME_KEY);
      if (stored === "dark") {
        document.body.classList.add("theme-dark");
      }
    }

    function toggleTheme() {
      document.body.classList.toggle("theme-dark");
      localStorage.setItem(
        THEME_KEY,
        document.body.classList.contains("theme-dark") ? "dark" : "light"
      );
    }

    function openAiHints() {
      const hints = [
        "Ø§ÙƒØªØ¨ ÙÙŠ Executive Summary Ù†ØªØ§Ø¦Ø¬ Ù…Ù„Ù…ÙˆØ³Ø©: Ø¹Ø¯Ø¯ Ø§Ù„Ù€ Bugs Ø§Ù„Ø­Ø±Ø¬Ø©ØŒ Ø£Ù‡Ù… Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„ØªÙŠ ØªÙ… ØªØºØ·ÙŠØªÙ‡Ø§ØŒ ÙˆØ£ÙŠ Ù…Ø®Ø§Ø·Ø± Ø¨Ø§Ù‚ÙŠØ©.",
        "Ø§Ø³ØªØ®Ø¯Ù… Ù„ØºØ© Ù‡Ø§Ø¯Ø¦Ø© ÙˆÙ…Ø­Ø§ÙŠØ¯Ø©: Ù„Ø§ ØªÙ‡Ø§Ø¬Ù… Ø§Ù„ÙƒÙˆØ¯ Ø£Ùˆ Ø§Ù„ÙØ±ÙŠÙ‚ØŒ Ø±ÙƒÙ‘Ø² Ø¹Ù„Ù‰ Ø§Ù„Ù€ System Behavior.",
        "Ø§Ø±Ø¨Ø· Ø¨ÙŠÙ† Ø§Ù„Ù€ Bugs ÙˆØ§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø£Ùˆ Ø§Ù„Ù€ User StoriesØŒ Ù‡Ø°Ø§ ÙŠØ³Ø§Ø¹Ø¯ Ø§Ù„ÙØ±ÙŠÙ‚ ÙÙŠ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ§Øª.",
        "ÙÙŠ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ÙƒØ¨ÙŠØ±Ø©ØŒ Ø£Ø¶Ù Ù‚Ø³Ù… Risks & Recommendations Ù…Ø¹ 3â€“5 Ù†Ù‚Ø§Ø· ÙˆØ§Ø¶Ø­Ø©."
      ];
      alert(
        "AI Hints (Ø£ÙÙƒØ§Ø± ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„ØªÙ‚Ø±ÙŠØ±):\n\n- " +
          hints.join("\n- ")
      );
    }

    function generateEnReport() {
      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…ÙŠØªØ§ Ù…Ù† Ø§Ù„Ø­Ù‚ÙˆÙ„ Ù‚Ø¨Ù„ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªÙ‚Ø±ÙŠØ±
      updateMetaFromFields();

      const total = Object.values(state.checklists)
        .reduce((acc, list) => acc + list.length, 0);
      const done = Object.values(state.checklists)
        .reduce((acc, list) => acc + list.filter(i => i.done).length, 0);
      const percent = total ? Math.round((done / total) * 100) : 0;

      const win = window.open("", "_blank");
      if (!win) {
        alert("Please allow popups to generate the report.");
        return;
      }

      const meta = state.meta;
      const scope = meta.projectName || "Current Project";
      const company = meta.clientName || "Client";
      const env = meta.env || "Staging";
      const build = meta.build || "-";
      const date = meta.testDate || new Date().toISOString().slice(0, 10);
      const browsers = meta.browsers || "Chrome, Edge, Mobile";
      const summary =
        meta.summaryNotesEn ||
        meta.summaryNotes ||
        "Main flows were tested across website, admin dashboard and mobile app. No blocking issues were found, but several usability, performance and security points require attention.";

      // ===== 3. Coverage â€“ Only badge, no detailed scenarios =====
      let coverageSectionHtml = "";

      // ===== Arabic Tables moved to Checklists, not in report =====
      const arabicTablesHtml = "";

      // ===== Insert Checklists into report =====
      const checklistLabels = (state.settings && state.settings.checklistLabels) ? state.settings.checklistLabels : {
        website: 'Website â€“ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…',
        platform: 'Platform / Admin â€“ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…',
        ecom: 'E-Commerce',
        mobile: 'Mobile App â€“ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„',
        api: 'API',
        perf: 'Performance'
      };

      const checklistsData = state.checklists || {};
      let checklistsHtml = "";
      Object.keys(checklistsData).forEach((key) => {
        const allItems = (checklistsData[key] || []);
        const items = (state.reportSettings && state.reportSettings.includeAllChecklistItems) ? allItems : allItems.filter((it) => it && it.done);
        if (!items.length) return; // skip categories with no selected items (or none to show)

        const rows = items
          .map((it, i) => `
            <tr>
              <td>${i + 1}</td>
              <td>${escapeHtml(it.title || '')}</td>
              <td>${escapeHtml(it.desc || '')}</td>
              <td style="text-align:center;">âœ”</td>
            </tr>
          `)
          .join('');

        checklistsHtml += `
          <div style="margin-top:16px;">
            <div class="report-section-title">${escapeHtml(checklistLabels[key] || key)}</div>
            <table class="report-table">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Item</th>
                  <th>Description</th>
                </tr>
              </thead>
              <tbody>
                ${rows}
              </tbody>
            </table>
          </div>
        `;
      });

      // ===== 5. Issues & Bugs Summary â€“ Ù…Ù† Ø§Ù„Ù€ Bugs Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© =====
      const bugsList = state.bugs || [];
      let issuesSectionHtml = "";

      if (bugsList.length) {
        const rows = bugsList
          .map((b, i) => `
            <tr>
              <td>${escapeHtml(b.id || ("BUG-" + (i + 1).toString().padStart(3, "0")))}</td>
              <td>${escapeHtml(b.area || "")}</td>
              <td>${escapeHtml(b.severity || "")}</td>
              <td>${escapeHtml(b.priority || "")}</td>
              <td>${escapeHtml(b.status || "")}</td>
              <td>${escapeHtml(b.title || "")}</td>
              <td>${escapeHtml(b.notes || "")}</td>
            </tr>
          `)
          .join("");

        issuesSectionHtml = `
          <div style="margin-top:16px;">
            <div class="report-section-title">4. Issues & Bugs Summary</div>
            <p class="report-sub">
              The following table lists the main issues discovered during this QA cycle, as recorded inside the QA panel.
            </p>
            <table class="report-table">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Area</th>
                  <th>Severity</th>
                  <th>Priority</th>
                  <th>Status</th>
                  <th>Short description</th>
                  <th>Notes / Suggested fix</th>
                </tr>
              </thead>
              <tbody>
                ${rows}
              </tbody>
            </table>
          </div>
        `;
      } else {
        issuesSectionHtml = `
          <div style="margin-top:16px;">
            <div class="report-section-title">4. Issues & Bugs Summary</div>
            <p class="report-sub">
              No issues were recorded inside the QA panel for this cycle. If bugs are found later,
              you can add them in the Bugs section and regenerate this report.
            </p>
          </div>
        `;
      }

      // ===== 6. Bug Reporting Framework (Reference) =====
      const bugTemplateRowsHtml = (state.bugTemplate || [])
        .map(
          (row) => `
          <tr>
            <td>${escapeHtml(row.field)}</td>
            <td>${escapeHtml(row.example)}</td>
            <td>${escapeHtml(row.desc)}</td>
          </tr>
        `
        )
        .join("");

      const sevMatrixRowsHtml = (state.sevMatrix || [])
        .map(
          (row) => `
          <tr>
            <td>${escapeHtml(row.sev || row.severity)}</td>
            <td>${escapeHtml(row.priority)}</td>
            <td>${escapeHtml(row.desc)}</td>
          </tr>
        `
        )
        .join("");

      const bugLifeRowsHtml = (state.bugLife || [])
        .map(
          (row) => `
          <tr>
            <td>${escapeHtml(row.status)}</td>
            <td>${escapeHtml(row.desc || row.when || "")}</td>
          </tr>
        `
        )
        .join("");

      const bugChecklistItemsHtml = (state.bugChecklist || [])
        .map((item) => `<li>${escapeHtml(item)}</li>`)
        .join("");

      const proTipsItemsHtml = (state.proTips || [])
        .map((item) => `<li>${escapeHtml(item)}</li>`)
        .join("");

      // ===== Bug Reporting Framework removed from report =====
      const bugFrameworkHtml = "";

      const css = document.querySelector("style").textContent;

      const html = `
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>QA Report â€“ ${escapeHtml(scope)}</title>
<style>
${css}
</style>
</head>
<body>
<div class="report-doc">
  <div class="report-header">
    <h1>QA Report â€“ ${escapeHtml(scope)}</h1>
    <p>Prepared by: Mohammad Alzoubi â€“ Environment: ${escapeHtml(env)} â€“ Date: ${escapeHtml(date)}</p>
  </div>

  <div>
    <div class="report-section-title">1. Executive Summary</div>
    <p class="report-sub">${escapeHtml(summary)}</p>
    <div style="margin-top:4px;">
      <span class="badge">Coverage: ${percent}% (${done}/${total} checklist items)</span>
    </div>
  </div>

  <div>
    <div class="report-section-title">2. Test Meta</div>
    <table class="report-table">
      <thead>
        <tr><th>Field</th><th>Value</th></tr>
      </thead>
      <tbody>
        <tr><td>Project / Product</td><td>${escapeHtml(scope)}</td></tr>
        <tr><td>Client / Company</td><td>${escapeHtml(company)}</td></tr>
        <tr><td>Environment</td><td>${escapeHtml(env)}</td></tr>
        <tr><td>Build / Version</td><td>${escapeHtml(build)}</td></tr>
        <tr><td>Test Date</td><td>${escapeHtml(date)}</td></tr>
        <tr><td>Browsers / Devices</td><td>${escapeHtml(browsers)}</td></tr>
      </tbody>
    </table>
  </div>

  ${coverageSectionHtml}
  ${checklistsHtml}
  ${issuesSectionHtml}
  ${bugFrameworkHtml}

  <div class="report-footer">
    <span>Prepared by: Mohammad Alzoubi (QA & Cybersecurity)</span>
    <span>Generated on: ${new Date().toLocaleString()}</span>
  </div>
</div>
</body>
</html>
      `;

      win.document.open();
      win.document.write(html);
      win.document.close();
      win.focus();
      win.print(); // Ù…Ù† Ù†Ø§ÙØ°Ø© Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© Ø§Ø®ØªØ§Ø± Save as PDF
    }

    function escapeHtml(str) {
      return String(str || "")
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/"/g, "&quot;");
    }

    document.addEventListener("DOMContentLoaded", () => {
      document.querySelectorAll(".nav-btn").forEach(btn => {
        btn.addEventListener("click", () => switchSection(btn.dataset.section));
      });
      renderChecklistTabs();
      renderBugTables();
      renderRealBugs();
      updateChecklistStats();
      updateExecSummaryPreview();
      applyMetaToFields();
      // Apply UI-only settings and render settings panel
      applySettingsToUI();
      renderSettingsCategories();
      renderGuideSettings();
      loadTheme();

      const themeToggle = document.getElementById("themeToggle");
      if (themeToggle) {
        themeToggle.addEventListener("click", toggleTheme);
      }

      const aiHintsBtn = document.getElementById("aiHintsBtn");
      if (aiHintsBtn) {
        aiHintsBtn.addEventListener("click", openAiHints);
      }

      const metaIds = [
        "projectName","clientName","env","build","testDate","browsers",
        "summaryNotes","projectName2","clientName2","env2","build2",
        "testDate2","browsers2","summaryNotes2"
      ];
      metaIds.forEach(id => {
        const el = document.getElementById(id);
        if (el) {
          el.addEventListener("change", updateMetaFromFields);
          el.addEventListener("input", updateMetaFromFields);
        }
      });

      // reportSettings bindings
      const defExec = document.getElementById('defaultExecSummary');
      const incAll = document.getElementById('includeAllChecklistItems');
      if (defExec) {
        defExec.addEventListener('change', () => {
          state.reportSettings = state.reportSettings || {};
          state.reportSettings.defaultExecutiveSummary = defExec.value || '';
          saveState();
        });
      }
      if (incAll) {
        incAll.addEventListener('change', () => {
          state.reportSettings = state.reportSettings || {};
          state.reportSettings.includeAllChecklistItems = !!incAll.checked;
          saveState();
        });
      }

      // UI Settings inputs
      const uiTitleEl = document.getElementById('uiTitle');
      const uiSubEl = document.getElementById('uiSubtitle');
      if (uiTitleEl) {
        uiTitleEl.value = (state.settings && state.settings.uiTitle) || '';
        uiTitleEl.addEventListener('change', () => {
          state.settings = state.settings || {};
          state.settings.uiTitle = uiTitleEl.value || '';
          saveState();
          applySettingsToUI();
        });
      }
      if (uiSubEl) {
        uiSubEl.value = (state.settings && state.settings.uiSubtitle) || '';
        uiSubEl.addEventListener('change', () => {
          state.settings = state.settings || {};
          state.settings.uiSubtitle = uiSubEl.value || '';
          saveState();
          applySettingsToUI();
        });
      }
    });
  </script>
</body>
</html>
